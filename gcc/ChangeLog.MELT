
2012-09-04  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-normal.melt (create_normal_extending_context): New function.

	* melt/warmelt-outobj.melt (translate_macroexpanded_list): Minor improvements.

2012-09-04  Basile Starynkevitch  <basile@starynkevitch.net>
	{{split this ChangeLog.MELT file so older entries are in ChangeLog.MELT-2008-2011}}

2012-09-04  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-run.proto.h (melt_string_knows_length): Remove temporary
	macro.

	* melt-runtime.c (melt_check_call_frames_at, melt_garbcoll):
	Improve error messages.
	(melt_fatal_info): Informative messages are not errors but
	notices.

	* melt/warmelt-base.melt (melt_argument, melt_error_counter): Add
	primitives.

	* melt/warmelt-outobj.melt (melt_argument): Move above.
	(translate_macroexpanded_list): Add errorsarefatal parameter flag.
	(compile_list_sexpr): Give it.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_string_length): Add cast.

	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (string_nth): New primitive.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_string_length): Remove dirty hack.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_string_length): Temporary dirty hack to
	bootstrap.

	* melt-runtime.c (meltgc_new_stringdup)
	(meltgc_new_string_without_suffix)
	(meltgc_new_string_generated_c_filename): Call
	meltgc_new_string_raw_len.

	* melt/warmelt-outobj.melt (outcinitfill_objinitstring): Always
	emit slen assignment for both small and big strings.

	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Unstable!!!}}
	* melt-runtime.h (melt_string_length, melt_string_is_ending): Use
	the slen field.
	(melt_string_nth): New function.

	* melt-runtime.c (meltgc_new_string_raw_len, meltgc_new_stringdup)
	(meltgc_new_string_generated_c_filename)
	(meltgc_new_string_nakedbasename): Set the slen field.

	* melt-run.proto.h (melt_string_knows_length): Temporarily defined.

	* melt/warmelt-outobj.melt (outcinitfill_objinitstring): Emit
	assignment of slen unconditionally.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (valdesc_string): Add an slen field in
	string for memoizing the length.

	* melt/warmelt-outobj.melt (outcinitfill_objinitstring): Emit code
	#if melt_string_knows_length to fill that slen field.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}

	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: When emitting generation of
	meltbuild-sources use (for-index) to choose translateinit.

	* melt-build-script.sh: Regenerate.

	* gcc/melt/warmelt-first.melt: Use #error in chunk testing that
	MELT_HAS_INITIAL_ENVIRONMENT is cleared.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}

	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-first.melt: Better warning message for
	warmelt-first with MELT_HAS_INITIAL_ENVIRONMENT.

	* melt/warmelt-outobj.melt (translate_macroexpanded_list): Show
	dbgcounter in message about generating C code... Add debug.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-first.melt: Add chunk to emit test of #if
	MELT_HAS_INITIAL_ENVIRONMENT.

	* melt/warmelt-outobj.melt (output_melt_descriptor) Improve
	descriptor file by removing spurious semi-colon emission.
	(translate_macroexpanded_list): Emit MELT_HAS_INITIAL_ENVIRONMENT
	appropriately.
	(compile_list_sexpr): More debug messages.

	* melt/warmelt-modes.melt (translateinitmodule_flavored): Pass a
	null initial environment.

2012-09-03  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (foreach_in_string): New iterator.

2012-08-31  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-ana-tree.melt
	(tree_boolean_false_node, tree_boolean_true_node)
	(tree_boolean_type_node, tree_char_type_node)
	(tree_const_ptr_type_node, tree_double_type_node)
	(tree_float_type_node, tree_int128_integer_type_node)
	(tree_int128_unsigned_type_node, tree_integer_minus_one_node)
	(tree_integer_one_node, tree_integer_type_node)
	(tree_integer_zero_node, tree_long_double_type_node)
	(tree_long_integer_type_node, tree_long_long_integer_type_node)
	(tree_long_long_unsigned_type_node, tree_long_unsigned_type_node)
	(tree_null_pointer_node, tree_ptr_type_node)
	(tree_short_integer_type_node, tree_short_unsigned_type_node)
	(tree_signed_char_type_node, tree_size_type_node)
	(tree_unsigned_char_type_node, tree_unsigned_type_node)
	(tree_void_type_node): New cmatchers.

2012-08-30  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (meltgc_walk_gimple_seq): Improve comment.

	* melt/xtramelt-ana-gimple.melt (walk_gimple_seq)
	(walk_gimple_seq_unique_tree): Add doc string.

2012-08-30  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (meltgc_cached_string_path_of_source_location):
	New declaration.

	* melt-runtime.c (meltgc_cached_string_path_of_source_location):
	New function.

	* melt/xtramelt-ana-tree.melt (tree_decl_at_source_location)
	(tree_expr_at_source_location): New cmatchers.

	* melt/xtramelt-ana-gimple.melt (gimple_at_source_location):
	New cmatcher.

2012-08-30  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-08-30  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-first.melt (class_initial_system_data): New
	sysdata_src_loc_file_dict field.
	(initial_system_data): Initialize it.

2012-08-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (meltgc_start_module_by_index): Use address-of &
	on VEC_index only for GCC 4.8, not for earlier version, to be
	compilable as a GCC 4.6 plugin.

2012-08-29  Basile Starynkevitch  <basile@starynkevitch.net>
	{{merging with trunk, converted to C++}}

	* melt-runtime.h (MELT_FLEXIBLE_DIM): Set when C++.

	* melt-runtime.c (melt_tempdir_path): Don't use choose_tmpdir from
	libiberty.
	(meltgc_start_module_by_index): Use address-of & on VEC_index.
	(melt_really_initialize): When printing builtin settings, handle
	GCC 4.8 as with implicit ENABLE_BUILD_WITH_CXX.
	(meltgc_out_edge): Provide additional flag TDF_DETAILS for dump_edge_info.
	(melt_val2passflag): Handle PROP_referenced_vars only when defined.

	* melt-module.mk: Use GCCMELT_COMPILER instead of GCCMELT_CC.

	* melt-build-script.tpl: Transmit GCCMELT_COMPILER on every make
	using melt-module.mk and improve the error message.

	* melt-build-script.sh: Regenerate.

2012-08-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in (melt-runtime.args): Add -I include and -I include-fixed.
	(melt-build-param.sh): Emit GCCMELT_CC1PLUS.

	* melt-build-script.tpl: Check runtime step should use
	GCCMELT_CC1PLUS when GCC is compiled in C++.

	* melt-build-script.sh: Regenerate.

	* melt-newbuild.tpl: Remove file.

	* melt-newbuild.def: Remove file.

	* melt-newbuild.mk: Remove generated file.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: Pass module-cflags argument for check
	runtime & helloworld tests.

	* melt-build-script.sh: Regenerate.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-run.proto.h: Don't include "ppl_c.h" anymore.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_EXTERN): New macro.

	* melt/warmelt-outobj.melt (output_exported_offsets): Emit it.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in (melt-runtime.o, melt-runtime.i): Use $(COMPILER)
	not $(CC).

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h: Remove inclusion of "ppl_c.h"
	(union melt_special_un): Remove ppl members.
	(meltgc_ppstrbuf_ppl_varnamvect)
	(melt_raw_new_ppl_empty_constraint_system)
	(melt_raw_new_ppl_unsatisfiable_constraint_system)
	(melt_ppl_coefficient_content, melt_ppl_coefficient_put_content)
	(melt_ppl_linear_expression_content)
	(melt_ppl_linear_expression_put_content)
	(melt_ppl_constraint_content, melt_ppl_constraint_put_content)
	(melt_ppl_constraint_system_content)
	(melt_ppl_constraint_system_put_content)
	(melt_ppl_generator_content, melt_ppl_generator_put_content)
	(melt_ppl_generator_system_content)
	(melt_ppl_generator_system_put_content)
	(melt_ppl_polyhedron_content, melt_ppl_polyhedron_put_content):
	Remove.

	* melt-runtime.c
	(melt_make_ppl_coefficient_from_tree)
	(melt_make_ppl_coefficient_from_tree)
	(meltgc_new_ppl_constraint_system)
	(meltgc_clone_ppl_constraint_system)
	(melt_insert_ppl_constraint_in_boxed_system)
	(melt_make_ppl_NNC_Polyhedron_from_Constraint_System)
	(meltgc_new_ppl_polyhedron, melt_make_ppl_linear_expression)
	(melt_make_ppl_constraint_cstrtype)
	(meltgc_new_ppl_linear_expression)
	(ppl_melt_variable_output_function)
	(meltgc_ppstrbuf_ppl_varnamvect): Remove.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	{{removing PPL from runtime, by putting stubs}}
	* melt-runtime.h (meltgc_ppstrbuf_ppl_varnamvect)
	(melt_raw_new_ppl_empty_constraint_system)
	(melt_raw_new_ppl_unsatisfiable_constraint_system)
	(melt_ppl_coefficient_content, melt_ppl_coefficient_put_content)
	(melt_ppl_linear_expression_content)
	(melt_ppl_linear_expression_put_content)
	(melt_ppl_constraint_content, melt_ppl_constraint_put_content)
	(melt_ppl_constraint_system_content)
	(melt_ppl_constraint_system_put_content)
	(melt_ppl_generator_content, melt_ppl_generator_put_content)
	(melt_ppl_generator_system_content)
	(melt_ppl_generator_system_put_content)
	(melt_ppl_polyhedron_content, melt_ppl_polyhedron_put_content):
	Remove body of inline function by replacing it by error stub.

	* melt-runtime.c (ALL_MELTOBMAG_SPECIAL_CASES): Remove SPECPPL
	cases...
	(delete_special): Remove SPECPPL cases.
	(melt_readsimplelong): Remove SPECPPL names.
	(melt_really_initialize): Remove PPL initialization.
	(melt_make_ppl_coefficient_from_tree)
	(melt_make_ppl_coefficient_from_tree)
	(meltgc_new_ppl_constraint_system)
	(meltgc_clone_ppl_constraint_system)
	(melt_insert_ppl_constraint_in_boxed_system)
	(melt_make_ppl_NNC_Polyhedron_from_Constraint_System)
	(meltgc_new_ppl_polyhedron, melt_make_ppl_linear_expression)
	(melt_make_ppl_constraint_cstrtype)
	(meltgc_new_ppl_linear_expression)
	(ppl_melt_variable_output_function)
	(meltgc_ppstrbuf_ppl_varnamvect): Remove body of functions by
	replacing it by error stub.
	(melt_ppl_error_handler): Remove function.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	{{removing PPL}}

	* melt/warmelt-first.melt (ctype_ppl_coefficient)
	(ctype_ppl_constraint, ctype_ppl_constraint_system)
	(ctype_ppl_linear_expression, discr_ppl_constraint_system)
	(discr_ppl_polyhedron): Remove.

	* melt/warmelt-base.melt (valdesc_special_ppl_coefficient)
	(valdesc_special_ppl_constraint)
	(valdesc_special_ppl_constraint_system)
	(valdesc_special_ppl_generator)
	(valdesc_special_ppl_generator_system)
	(valdesc_special_ppl_linear_expression)
	(valdesc_special_ppl_polyhedron): Remove.

	* melt/xtramelt-ana-base.melt (debug_ppl_coefficient)
	(debug_ppl_constraint, debug_ppl_linear_expression)
	(debug_ppl_polyhedron, insert_ppl_constraint_in_boxed_system)
	(make_ppl_constraint, make_ppl_linear_expression)
	(make_ppl_polyhedron_cloned, make_ppl_polyhedron_same)
	(ppl_Constraint_System_insert_Constraint)
	(ppl_Linear_Expression_add_to_coefficient)
	(ppl_Linear_Expression_add_to_inhomogeneous)
	(ppl_NNC_Polyhedron_from_Constraint_System)
	(ppl_Polyhedron_add_constraint, ppl_Polyhedron_is_empty)
	(ppl_clone_constraint_system, ppl_coefficient_content)
	(ppl_coefficient_from_long, ppl_coefficient_from_tree)
	(ppl_constraint_content, ppl_constraint_system_content)
	(ppl_delete_Coefficient, ppl_delete_Constraint)
	(ppl_delete_Linear_Expression, ppl_delete_Polyhedron)
	(ppl_new_empty_constraint_system)
	(ppl_new_unsatisfiable_constraint_system, ppl_polyhedron_content)
	(ppl_ppstrbuf, raw_new_ppl_empty_constraint_system)
	(raw_new_ppl_unsatisfiable_constraint_system): Remove.

	* melt/xtramelt-ana-simple.melt: Remove the smallana_mode which
	used PPL.

2012-08-28  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.7-pre

2012-08-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.


2012-08-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6-d
	* melt-runtime.c (meltgc_passexec_callback): Better debugprintf,
	and location.
	(melt_really_initialize): Add fflush.

	* melt/warmelt-outobj.melt (outpucod_objputroutconst): Emit check
	with if MELT_HAS_INITIAL_ENVIRONMENT.
	(translate_macroexpanded_list): Add inienv argument.
	(compile_list_sexpr): Pass it.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_really_initialize): Plugin can run with
	debugging.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Symlink meltrunsup.h

	* melt-build-script.sh: Regenerate.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_longsbucket_put)
	(meltgc_longsbucket_remove): Add casts or signed integers to avoid
	warnings about signed vs unsigned compare.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt: Mention that PPL binding is obsolete.
	* melt/warmelt-base.melt: Ditto.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6.c version.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt: Improve comment about translateinit.

	* melt/warmelt-normatch.melt (mg_draw_match_graphviz_file): Avoid
	mixing declaration and code in chunk.

	* melt/warmelt-outobj.melt (compile_list_sexpr): Handle specially
	the case when inienv is null, emitting a 0 for
	MELT_HAS_INITIAL_ENVIRONMENT.

	* melt/warmelt-modes.melt (translateinit_mode): Pass a null
	initial environment to trigger the magic above.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_longsbucket_put)
	(meltgc_longsbucket_remove): Use signed indexes to avoid buffer
	underflow.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_out_edge): Put a warning on below patch,
	because it will be needed only on next trunk to MELT branch merge.

2012-08-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_out_edge): Add TDF_DETAILS to
	dump_edge_info calls for GCC 4.8.

2012-08-01  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-08-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (valdesc_strbuf, valdesc_mixint):
	Removing GTY annotation on non-pointer data which makes recent
	gengtype scream.

2012-08-01  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl: Remove file.

	* melt-build.def: Remove file.

	* melt-build.mk: Remove file.

	* melt-build-script.tpl: Add hello world running in checkruntime step.

	* melt-build-script.sh: Regenerate.

2012-07-31  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6.b

	* melt-runtime.c (melt_load_module_index): Use appropriate file
	name for melt_compile_source invocation.

2012-07-31  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6

2012-07-31  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in (melt-build-param.sh): Typo on emission
	GCCMELT_RUNTIME_C. Emit quoted assignments for GCCMELT_COMPILER &
	GCCMELT_LINKER.

	* melt-build-script.tpl: Fixed typos. Add sanity checks

	* melt-build-script.sh: Regenerate.

	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6-rc4

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Set nullglob.

	* melt-build-script.sh: Regenerate.

	* melt-module.mk: Test that GCCMELT_CC is not empty.

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Typo in runtime step.

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.6-rc2

	* melt-build-script.tpl: Redirection typo in runtime step.

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-build-param.sh): Emit GCCMELT_RUNTIME_C

	* melt-build-script.tpl: Add check runtime step.

	* melt-build-script.sh: Regenerate.


2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (GCCMELT_HEADER_DIR, GCCMELT_PREPROFLAGS): New
	variables.

	* Makefile.in: Use melt-headers/$(melt_version_string).
	(install-melt-mk): Overwrite GCCMELT_HEADER_DIR at installation.

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: Test that GCCMELT_CC1 exists.

	* melt-build-script.sh: Regenerate.

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_basename): Inline.

2012-07-30  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_flag_debug, melt_flag_bootstrapping): For
	MELT plugin compiled with C++, declare them extern "C" globals.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h: Use #elif not #elseif cpp directive.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: The includeload thing contains the .melt
	suffix.
	* melt-build-script.sh: Regenerate.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in (upgrade-warmelt): Dont indent *+melt* files.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: Improve.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (foreach_mapbasicblock): Fix comment.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (checkval_dbg): Improve.

	* melt/xtramelt-ana-base.melt: Improve C90 compliance.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Correct regenerate overall goal.

	* melt-build-script.sh: Regenerate.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in (melt-clean): Typo.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-clean, melt-translator, melt-applications)
	(melt-modlists, melt-gendoc): New phony targets.
	(install-melt-sources, install-melt-modules)
	(install-melt-default-modules-list): Use them.
	(upgrade-warmelt): Rewritten, using regenerate overall goal.

	* melt-build-script.tpl: Add regenerate overall goal.

	* melt-build-script.sh: Regenerate.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Accept an overall goal as first argument.

	* melt-build-script.sh: Regenerate.

2012-07-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Fix typos, add modlis generation.

	* melt-build-script.sh: Regenerate.

2012-07-28  Basile Starynkevitch  <basile@starynkevitch.net>
	{{better but still a little buggy}}

	* melt-build-script.def: The stages know their precedent.

	* melt-build-script.tpl: Generate more stamp files.

	* melt-build-script.sh: Regenerate.

2012-07-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_really_initialize): Better emitted comment
	in list of generated C files, with -fmelt-generated-c-file-list=
	option.
	(melt_output_cfile_decl_impl_secondary_option): Emit changed files
	with a + prefix and kept file with a = prefix.

	* Makefile.in (melt-build-param.sh): Emit
	GCCMELT_RUNTIME_DEPENDENCY.
	(upgrade-bigmelt): Remove target.

	* doc/melt.texi: Mention that MELT runs with GCC 4.6 or 4.7 or later.
	(Invoking MELT): Explain format of list of generated files for
	-fmelt-generated-c-file-list= option.

2012-07-25  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: Add symlinking of all MELT
	sources. meltgendoc.texi is generated.

	* melt-build-script.sh: Regenerate.

2012-07-25  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Still buggy}}
	* Makefile.in: Always use new build script.
	(melt.encap): Add more dependencies.
	(melt-built-param.mk): Remove target.
	(melt-build-settings.sh, meltbuild-empty-file.c): New targets.

	* melt-build-script.tpl: Add meltgendoc.texi generation which does
	not work yet.

	* melt-build-script.sh: Regenerate.

2012-07-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (superloop_tuple)
	(dbgout_boxbasicblock_method, dbgout_boxedge_method)
	(dbgout_boxloop_method, dbgout_mapedge_method): Move these
	functions after loop related primitives.

	* Makefile.in: Remove MELT_NEWBUILD & melt-newbuild.{mk,tpl}...

	* melt-build-script.tpl: Build the application xtramelt* modules,
	but don't avoid useless recompilation yet.

	* melt-build-script.sh: Regenerate.

2012-07-24  Basile Starynkevitch  <basile@starynkevitch.net>
	{{after svn rev 189788 switching to the new build system, still incomplete and instable}}
	* melt-runtime.c (melt_load_module_index): Use BASE.meltmod-MDFIVESUM.FLAVOR.so naming scheme.

	* melt-build-script.tpl: The stages are built using the new
	melt-module.mk but not the xtramelt* modules! INCOMPLETE!!

	* melt-build-script.def: Double-quote the stages.

	* melt-build-script.sh: Regenerate.

	* Makefile.in: Force MELT_NEWBUILDSCRIPT=1.

2012-07-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-build-param.sh): GCCMELT_MAKE gets also the
	$(MAKEFLAGS).

2012-07-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_load_module_index): Typo.

2012-07-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Generates the stage0 meltbuild.mk, but not working yet.
	* melt-build-script.sh: Regenerate.

	* melt-runtime.c (melt_load_module_index): Inform about GCCMELT_TRACE_MODULE.

2012-07-20  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-20  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (output_melt_descriptor): Emit both old
	fashioned and new fashioned module dependencies in generated make
	fragment.

2012-07-20  Basile Starynkevitch  <basile@starynkevitch.net>
	* doc/melt.texi (MELT environments and bindings): Mention
	environment-related macros.
	(translating a MELT module): Improve documentation, mention
	melt_start_this_module.

	* melt-runtime.h: Improve comment for MELT_DYNLOADED_SUFFIX.

	* melt/warmelt-macro.melt: export directives on same line as
	exported name.
	(debug, export_values, export_macro, export_patmacro)
	(export_class, export_synonym)
	(current_module_environment_container, parent_module_environment)
	(update_current_module_environment_container, fetch_predefined)
	(store_predefined): Document these macros.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (melt_load_module_index): Add tracing into
	melt_trace_module_fil of the base shared object path...

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (generate_debug_melt_module)
	(generate_optimized_melt_module, generate_quickly_melt_module)
	(generate_melt_module): Remove.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (generate_flavored_melt_module): Move.
	(generate_optimized_melt_module, generate_debug_melt_module)
	(generate_quickly_melt_module): Obsolete primitives.

	* melt/warmelt-modes.melt (runfile_docmd, rundebug_docmd): Use
	generate_flavored_melt_module.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (melt_find_file_at): Silently continue when the
	directory or path or environment name is null or empty.
	(melt_load_module_index): Better trace message.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (MELT_FILE_IN_ENVIRON_PATH): Mew macro constant.
	(melt_find_file_at): Handle it.
	(meltgc_read_file, melt_load_module_index)
	(meltgc_load_module_list): Use it.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_trace_dynlink_fil): Remove and rename as...
	(melt_trace_module_fil): New static variable, see
	GCCMELT_TRACE_MODULE environment variable.
	(melt_trace_source_fil): New static variable, see
	GCCMELT_TRACE_SOURCE environment variable.
	(MELT_FILE_LOG): New macro constant.
	(melt_find_file_at): Handle and use it.
	(meltgc_read_file): Trace source files.
	(melt_load_module_index): Trace module files.
	(meltgc_load_module_list): Trace source files.
	(melt_really_initialize): Trace using GCCMELT_TRACE_MODULE &
	GCCMELT_TRACE_SOURCE environment variables.
	(do_finalize_melt): Close trace files of modules & sources.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-run.proto.h (start_module_melt): Remove.

	* melt-runtime.c (melt_trace_dynlink_fil): Declare static
	variable.
	(melt_load_module_index): Use it.
	(melt_really_initialize): Initialize it from GCCMELT_TRACE_DYNLINK
	environment variable.
	(do_finalize_melt): Close it.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-run.proto.h (start_module_melt): Temporary defined as
	melt_start_this_module.

	* melt-runtime.h: Use dash in copyright years.
	Improve comment about gt-melt-runtime.h inclusion.
	(melt_load_module_index): Use melt_start_this_module.
	Improve error messages when failing.
	(melt_output_cfile_decl_impl_secondary_option): Write the main C
	name in the list of generated C files.

	* melt/warmelt-outobj.melt (outpucod_initialroutine): The emitted
	module starting routine is melt_start_this_module.

2012-07-18  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: Still buggy, the meltbuild-modules/
	should have files with an md5sum inside.

	* melt-build-script.sh: Regenerate.

2012-07-18  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: Compile translator modules in all flavors
	into meltbuild-modules.

	* melt-build-script.sh: Regenerate.

2012-07-18  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-build-param.mk, melt-build-param.sh): Emit
	GCCMELT_CC1_PREFIX if defined.

	* melt-build-script.tpl: Define internal variables like
	GCCMELT_STAGE or GCCMELT_SKIPEMITC.  Skip useless stages which
	don't do anything.

	* melt-build-script.sh: Regenerate.

2012-07-18  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build-script.tpl: More comments. Add meltbuild-sources
	step.

	* melt-build-script.sh: Regenerate.

2012-07-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-build-param.sh): Better quoting.

	* melt-module.mk: Use GCCMELT_MODULE_DEPENDENCIES as a dependency
	for all compilations.

	* melt-build-script.tpl: Emit it.

	* melt-build-script.sh: Regenerate.

2012-07-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Works up to stage3, with fix for typo
	melt-workdir -> meltbuild-workdir twice...
	* melt-build-script.sh: Regenerate.

2012-07-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_load_module_index): Improve error messages
	when module is not found.

2012-07-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Emit the meltbuild_emit command. Still buggy.

	* melt-build-script.sh: New generated file. Still buggy.

2012-07-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build-script.tpl: Emit the meltbuild_emit command. Not
	working yet.

	* melt-build-script.sh: New generated file. Not working yet.

2012-07-16  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-build-param.sh): Bettet GCCMELT_STAGE_ZERO.
	* melt-build-script.def: New file.
	* melt-build-script.tpl: New file. Not working yet.
	* melt-build-script.sh: New generated file. Not working yet.

2012-07-16  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c
	(melt_output_cfile_decl_impl_secondary_option): More pretty
	generated C file list.

2012-07-16  Basile Starynkevitch  <basile@starynkevitch.net>

	* common.opt (fmelt-generated-c-file-list=): New option.

	* melt-runtime.c (melt_generated_c_files_list_fil): New static variable.
	(melt_argument): Handle generated-c-file-list.
	(melt_really_initialize): Use it.
	(do_finalize_melt): Close it.
	(melt_output_cfile_decl_impl_secondary_option): Write the
	generated C file list.

	* doc/melt.texi (Invoking MELT): Document
	-fmelt-generated-c-file-list= option.

	* Makefile.in (melt-build-param.sh): New target, a shell sourcable
	file.

2012-07-06  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl: Add fromline Guile function to generate unique
	from location...
	Perhaps still issues around MELTGEN_MODULENAME for the plugin?

	* melt-build.mk: Regenerate.

2012-07-06  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (melt_probe_stop): Check writing of quit command,
	hence avoiding a compile-time warning.

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6-rc1

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-newbuild.tpl: Still buggy, perhaps not useful, since
	melt-build.tpl works...

	* melt-newbuild.mk: Regenerate.

	* melt-build.tpl: Add MELT_RUNNER prefix for MELT runs.

	* melt-build.mk: Regenerate.

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-newbuild.tpl: Still buggy, with memoizing md5sum...

	* melt-newbuild.mk: Regenerate.

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in: New build thru melt-build phony target.

	* melt-newbuild.tpl: Using melt-stage*-dir/ directory. But still buggy.

	* melt-newbuild.mk: Regenerate.

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-05  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (output_melt_descriptor): Add block in
	code chunk.

	* melt-newbuild.tpl: Add melt-new phony target.

	* melt-newbuild.mk: Regenerate.

2012-07-04  Basile Starynkevitch  <basile@starynkevitch.net>

	* Makefile.in: move upper the export of MELTBUILD_MKFILE.

	* melt-newbuild.tpl: Depend more on stamps file. Always rewrite them.
	Still don't work!

	* melt-newbuild.mk: Regenerate.

2012-07-04  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt (mexpand_use_package_from_pkg_config):
	Add block in code chunk.

	* melt-newbuild.tpl: Still buggy, with explicit time stamps...

	* melt-newbuild.mk: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (option_helper_fun): Use const in code chunk.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Avoid ungiven secondary results}}
	* melt/warmelt-first.melt (mapobject_sorted_attribute_tuple):
	Return two values.
	* melt/warmelt-macro.melt (mexpand_use_package_from_pkg_config):
	Add block inside codechunk with declarations.
	* melt/warmelt-normal.melt (normexp_multicall): Return two values.
	* melt/warmelt-normatch.melt (normpat_instancepat): Sorting lambda
	return two values.
	* melt/warmelt-genobj.melt (compile_tester): Document; all methods
	return two values.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (add2out): Loop exits explicitly.

	* melt/warmelt-normal.melt (normexp_multicall): Return secondary
	value.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.


2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (get_raw_symbol): Cast string to a const
	char* pointer.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (normexp_keyword): Return
	two values.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (normexp_null): Return
	two values.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt: codechunk with declarations made as
	blocks.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (normex_symbol, normexp_quote): Return
	two values.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt: codechunk with declarations made as
	blocks.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Better emitted comment.

	* melt-newbuild.mk: Regenerate.

	* melt/warmelt-normal.melt (normexp_symbol, normexp_defcmatcher)
	(normexp_definstance, normexp_defselector): Return secondary nil.

	* melt/warmelt-outobj.melt: Adding block in codechunk.

	* melt/warmelt-modes.melt: Ditto.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Avoid some runtime warnings about missing secondary results, and
	some GCC warnings}}
	* melt/warmelt-first.melt (option_helper_fun): Make a block in a chunk.

	* melt/warmelt-normal.melt (normexp_identical)
	(normexp_defprimitive, normexp_defclass, normexp_defciterator)
	(normexp_defun, normexp_parent_module_environment)
	(normexp_fetch_predefined)
	(normexp_current_module_environment_container): Return a secondary result.

	* melt/warmelt-outobj.melt: Avoid warnings in emitted code.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt: Add secondary value return when
	appropriate to lower warnings.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_warn_for_no_expected_secondary_results_at):
	Give at most 8 warnings.

2012-07-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt.encap): Add explicit dependency on
	warmelt-predef.melt & melt-predef.h for the new build.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-build-param.mk): filter out optimization and
	debug compiler flags -O and -g.

	* melt-module.mk (%.descr.meltpic.o): Soon obsolete rule.
	(%.descriptor.meltpic.o): New rule.

	* melt/warmelt-first.melt: Code chunks with variable declarations
	need extra braces.

	* melt/warmelt-debug.melt: Ditto.

	* melt/warmelt-normatch.melt (mg_draw_match_graphviz_file): Ditto.

	* melt/warmelt-outobj.melt (output_melt_descriptor): Generate make
	rule for a %.descriptor.meltpic.o.

	* melt-newbuild.tpl: Much more, still buggy.

	* melt-newbuild.mk: Regenerate.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}

	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (valdesc_routine): Remove gap from
	MELT_ROUTINE_STRUCT, add extra pointer in tabval.

	* melt/warmelt-genobj.melt (compile2obj_initproc): Cast pointer
	for %p in checkfreshenv.

	* melt/warmelt-outobj.melt (output_curframe_declstruct_init): Emit
	cast to (void) to use arguments. Reorder emitted declarations.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Add space after ifeq.
	* melt-newbuild.mk: Regenerate.
	* melt/warmelt-base.melt (valdesc_multiple) The emitted
	MELT_MULTIPLE_STRUCT macro has a never empty array. Remove gap.
	* melt/warmelt-outobj.melt: Replace predefinited by meltpredefinited.
	(outpucod_initialroutine): Use the meltpredefinited in a (void)
	cast.
	* melt/warmelt-genobj.melt (compil_data_and_slots_fill): Use
	meltpredefinited.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate all}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_warn_for_no_expected_secondary_results):
	Becomes a macro.
	(melt_warn_for_no_expected_secondary_results_at): New function
	declaration.
	* melt-runtime.c (melt_warn_for_no_expected_secondary_results_at):
	New function.
	* melt/warmelt-base.melt (compare_named_alpha): return two values.
	* melt/warmelt-genobj.melt (compilobj_nrep_return): Emit check for
	secondary results..
	* melt/warmelt-outobj.melt (line_and_file_of_location): Always
	return two results.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Still buggy.
	* melt-newbuild.mk: Regenerate, as self contained makefile.
	* Makefile.in (melt-build-param.mk): Better.
	(melt.encap): Don't work yet with MELT_NEWBUILD.
	* melt/warmelt-base.melt (valdesc_closure): Add extra pointer, not
	gap into MELT_CLOSURE_STRUCT.
	* melt-runtime.h (melt_warn_for_no_expected_secondary_results):
	New function.
	* melt/warmelt-genobj.melt (compilobj_nrep_return): Emit it.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (melt-built-param.mk): New target.
	(melt.encap): Build it.

2012-07-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in (MELT_REVISION_STR): New.

2012-06-29  Basile Starynkevitch  <basile@starynkevitch.net>
	{{melt-newbuild is badly broken}}
	* Makefile.in (MELTBUILD_MKFILE): New variable for include.

	* melt-newbuild.tpl: Using recursive make for substages...
	NOT WORKING YET!

	* melt-newbuild.mk: Regenerate.

2012-06-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Adding more, notably warmelt[123] phony
	targets. Still incomplete.

	* melt-newbuild.mk: Regenerate.

2012-06-28  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Adding more.  Still incomplete.

	* Makefile.in: adding explicit make warmelt1.

2012-06-28  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Adding some other stages stuff, still
	incomplete.

	* melt-newbuild.mk: Regenerate.

2012-06-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Improve rules for stage 0, adding some other
	stages stuff, still incomplete.

	* melt-newbuild.mk: Regenerate.

2012-06-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-newbuild.tpl: Improve rules for stage 0.

	* melt-newbuild.mk: Regenerate.

2012-06-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk: Add comment for extracting fragment
	melt-module-frag.mk.

	* melt-newbuild.tpl: Add rules for stage 0.

	* melt-newbuild.mk: Regenerate.

2012-06-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (GCCMELT_QUICKLYBUILT_PREPROFLAGS)
	(GCCMELT_OPTIMIZED_PREPROFLAGS, GCCMELT_DEBUGNOLINE_PREPROFLAGS)
	(GCCMELT_DYNAMIC_PREPROFLAGS, GCCMELT_DESCRIPTOR_PREPROFLAGS): New.
	Use them appropriately.

2012-06-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* Makefile.in: Enable melt-newbuild.* files. when MELT_NEWBUILD
	* melt-newbuild.tpl: New file, incomplete.
	* melt-newbuild.def: New file.
	* melt-newbuild.mk: New generated file, incomplete.

2012-06-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk: Improve slightly.

2012-06-22  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.


2012-06-22  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Adding variants to translateinit modes}}
	* melt/warmelt-modes.melt (translateinit_flavored): New.
	(translateinitmodulequicklybuilt_mode)
	(translateinitmoduledebugnoline_mode)
	(translateinitmoduleoptimized_mode): New.

2012-06-21  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-06-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-modes.melt (tranlateinitmodule_mode): New.

2012-06-20  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+05.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-06-20  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (GCCMELT_PACKAGES_CFLAGS,GCCMELT_PACKAGES_LIBES):
	Define and use them for package support.
	See https://groups.google.com/d/topic/gcc-melt/c2iPrRJHn88

2012-06-20  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Adding support of use_package_from_pkg_config macro}}

	* melt/warmelt-first.melt (class_module_context): Add
	mocx_packagepclist field.

	* melt/warmelt-macro.melt (class_source_use_package_from_pkg_config): New class.
	(mexpand_use_package_from_pkg_config): New macro expander.
	(use_package_from_pkg_config, use-package-from-pkg-config): New
	synonymous macros.

	* melt/warmelt-normal.melt (normexp_use_package_from_pkg_config):
	New method for normal_exp of
	class_source_use_package_from_pkg_config

	* melt/warmelt-outobj.melt (compile_list_sexpr): Initialize
	the :mocx_packagepclist field.
	(output_melt_descriptor): New modctx argument.
	Emit package information in makefile chunk.

2012-06-20  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-module.mk: Handle appropriate *mdsumed.c symlinks with
	special rules for them, e..g.
	($(GCCMELTGEN_BUILD)%.quicklybuilt.meltmdsumedpic.o): New rules
	($(GCCMELTGEN_BUILD)%.optimized.meltmdsumedpic.o): New rules
	etc...

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-module.mk: Add rules for various *.meltmod.so and make a
	symlink if MELTGEN_MODULENAME defined.

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-module.mk: Add rules for various *.meltpic.o

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-module.mk (GCCMELTGEN_BUILD): Define
	include  $(GCCMELT_MODULE_SOURCEBASE)+meltbuild.mk

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (output_melt_descriptor): Emit eof
	comment for FOO+meltbuild.mk generated file.

	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (output_melt_descriptor): Generated
	dependencies assume all binary object and module files are prefixed
	by $(GCCMELTGEN_BUILD).

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (output_melt_descriptor): Generete
	dependency of .descr.pic.o file.

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (output_melt_descriptor): Better
	generation of make fragment file.

2012-06-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (output_melt_descriptor): Start adding
	generation of make fragment file FOO+meltbuild.mk ...

2012-06-18  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+03.c: New generated file.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.


2012-06-18  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-module.mk (GCCMELT_SECONDARY_CFILES): Rename
	GCCMELT_SECONDARIES variable.
	(GCCMELT_SECONDARY_MD5SUMS): Rename -GCCMELT_SECONDARIES_MD5
	variable.
	(GCCMELT_PRIMARY_MDSUMED_BASE): Rename GCCMELT_PRIMARY_OBJ
	variable.
	(GCCMELT_SECONDARY_MDSUMED_BASES): Rename GCCMELT_SECONDARIES_OBJ
	variable.
	Updated rules accordingly.
	(melt_module): Use melt_workspace.
	(melt_workspace): New phony target.

	* melt/warmelt-base.melt (string4out): New function.

	* melt/xtramelt-probe.melt (scanprobe_exec): Use it.

2012-06-16  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl (meltarg_genworklink):  Define and use it.

	* melt-build.mk: Regenerate.

	* melt/warmelt-base.melt (checkval_dbg): Cast argument to void to
	avoid warnings in generated C file.

2012-06-16  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (melt_output_cfile_decl_impl_secondary_option):
	Detect when symlinked work source already exists and is same...

2012-06-16  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c: Re-indent with both astyle & indent.
	(melt_output_cfile_decl_impl_secondary_option): Initialize
	workdir, add debug..

2012-06-16  Basile Starynkevitch  <basile@starynkevitch.net>

	* common.opt (fmelt-generate-work-link): New flag.

	* doc/melt.texi (Invoking MELT): Explain -fmelt-bootstrapping,
	-fmelt-debugging, -fmelt-generate-work-link.

	* melt-runtime.c (melt_flag_generate_work_link): Declare when
	MELT_IS_PLUGIN.
	(melt_argument): Handle "generate-work-link".
	(melt_string_hex_md5sum_file_to_hexbuf): New static function.
	(meltgc_string_hex_md5sum_file): Use it.
	(melt_output_cfile_decl_impl_secondary_option): Use
	melt_flag_generate_work_link, etc.

2012-06-15  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-ana-base.melt (basicblock_nb_pred)
	(basicblock_nth_pred_edge, basicblock_nth_succ_edge): New
	primitives.

	* melt/xtramelt-probe.melt (scanprobe_exec): Should show edges.

2012-06-15  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-probe.melt (scanprobe_exec): Show gimple number
	in basic blocks.

2012-06-15  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-probe.melt (scanprobe_exec): Show the gimpleseq
	when non-empty.

2012-06-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-probe.melt (probe_get_file_of_name)
	(probe_get_interesting_location): Improve typography of commands
	sent to probe.
	(info_location_probe): Title is correctly made.
	(scanprobe_exec): Use output_tree_briefly.

2012-06-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-debug.melt (dbgout_integer_method): Output
	specially constant integers.

	* melt/xtramelt-probe.melt (send_command_to_probe): More debug.

2012-06-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (add2out): Improve error messages.

2012-06-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-ana-base.melt (output_tree): New function.

	* melt/xtramelt-ana-gimple.melt (output_gimple, output_gimpleseq):
	New functions.

	* melt/xtramelt-probe.melt (scanprobe_exec): Use them.

2012-06-13  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-06-13  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt (dbgout_bucketlong_method): Emit
	better indentation.
	* melt/xtramelt-ana-probe.melt (probe_get_interesting_location):
	Better.

2012-06-13  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt (dbgout_bucketlong_method): New method
	for dbg_out on discr_bucket_longs.

	* melt/xtramelt-ana-probe.melt (probe_get_file_of_name): Better
	debug.

2012-06-12  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-probe.melt (scanprobe_exec): Walk thru the
	gimpleseq and give to probe information on gimples & trees of
	basic blocks.

2012-06-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (basicblock_index): New primitive.

	* melt/xtramelt-ana-probe.melt (scanprobe_exec): Walk thru the
	gimpleseq, but incomplete.

2012-06-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (normexp_return): Check secondary
	result types.
	* melt/warmelt-genobj.melt (compilobj_nrep_return): Use
	foreach_in_multiple not multiple_every.
	* melt/warmelt-outobj.melt (outpucod_objputxtraresult): Issue an
	error when a result has an impossible ctype (e.g. ctype_string).
	* melt/xtramelt-probe.melt (probe_tree_interesting_location)
	(probe_gimple_interesting_location): Cast argument to
	meltgc_new_string in code chunks.
	(info_location_probe): Call the stored closures.
	(scanprobe_exec): Add informer on function declaration.

2012-06-06  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-06-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_raw_sigio_signal): sig can be SIGIO or
	SIGPIPE.

	* melt/warmelt-debug.melt (melt_debug_fun): Use block_signals.

2012-06-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (scanprobe_exec): Incomplete.

2012-06-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (scanprobe_exec): New stub.
	(install_scanprobe_pass): New function.
	(probe_docmd): Call it.

2012-06-04  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (meltgc_walk_gimple_seq): New declaration.

	* melt-runtime.c (meltgc_walk_gimple_seq): New function.
	(meltgc_walkstmt_cb, meltgc_walktree_cb): New internal functions.

	* melt/xtramelt-ana-gimple.melt (walk_gimple_seq)
	(walk_gimple_seq_unique_tree): New primitives.

	* melt/xtramelt-probe.melt (info_location_probe): New stub function.
	(start_probe): Call it.

2012-06-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (probe_gimple_interesting_location):
	New function.

2012-06-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (probe_tree_interesting_location): New
	function.

2012-05-31  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (foreach_in_multiple): Emit better
	comment.

	* melt/xtramelt-probe.melt (class_probed_file): Add
	probedfile_linesbucket field.
	(class_probed_interesting_location): New class wirh probiloc_* fields.
	(class_probed_data): Add probedata_ilocvec & probedata_nbiloc
	fields.
	(probe_get_interesting_location): New function.
	(start_probe): Export function.

2012-05-30  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-05-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt: Use deref, not content.

2012-05-30  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.
	* melt-predef.list (CLASS_CONTAINER): Remove.
	* melt/warmelt-macro.melt: Use set_ref macro instead of
	set_reference function.
	* melt/warmelt-outobj.melt: Ditto.
	* melt/warmelt-modes.melt: Ditto.
	* melt/warmelt-base.melt: Ditto.
	* melt/warmelt-normal.melt: Ditto.
	* melt/warmelt-normatch.melt: Ditto.
	* melt/warmelt-debug.melt: Ditto.
	* melt/xtramelt-opengpu.melt: Ditto.
	* melt/xtramelt-probe.melt: Ditto.

2012-05-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* make-warmelt-predef.awk: Emit comment for lisp emacs mode.
	* melt-predef.list: Comment out CLASS_CONTAINER.

2012-05-30  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
        * melt/generated/warmelt-macro+05.c: New generated file.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-05-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt (mexpand_reference)
	(patexpand_reference): New functions renaming of mexpand_container
	& patexpand_container.
	(mexpandobsolete_container, patexpandobsolete_container):
	expansion for obsolete container macro.
	(mexpand_deref, mexppand_set_ref): New functions with
	mexpand_deref renaming mexpand_content.
	(mexpandobsolete_content): expansion for obsolete content macro.

2012-05-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_container_value, meltgc_new_container)
	(meltgc_container_put, MELTGLOB_CLASS_REFERENCE)
	(MELTFIELD_REFERENCED_VALUE, MELTLENGTH_CLASS_REFERENCE): Remove
	macros.

	* melt-runtime.c (meltfieldoff__CONTAINER_VALUE)
	(meltclasslen__CLASS_CONTAINER): Remove.

2012-05-29  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c
	* melt/generated/meltrunsup.h
	* melt/generated/warmelt-base+01.c
	* melt/generated/warmelt-base+02.c
	* melt/generated/warmelt-base+meltdesc.c
	* melt/generated/warmelt-base+melttime.h
	* melt/generated/warmelt-base.c
	* melt/generated/warmelt-debug+01.c
	* melt/generated/warmelt-debug+meltdesc.c
	* melt/generated/warmelt-debug+melttime.h
	* melt/generated/warmelt-debug.c
	* melt/generated/warmelt-first+01.c
	* melt/generated/warmelt-first+02.c
	* melt/generated/warmelt-first+03.c
	* melt/generated/warmelt-first+meltdesc.c
	* melt/generated/warmelt-first+melttime.h
	* melt/generated/warmelt-first.c
	* melt/generated/warmelt-genobj+01.c
	* melt/generated/warmelt-genobj+04.c
	* melt/generated/warmelt-genobj+05.c
	* melt/generated/warmelt-genobj+meltdesc.c
	* melt/generated/warmelt-genobj+melttime.h
	* melt/generated/warmelt-genobj.c
	* melt/generated/warmelt-macro+01.c
	* melt/generated/warmelt-macro+02.c
	* melt/generated/warmelt-macro+03.c
	* melt/generated/warmelt-macro+04.c
	* melt/generated/warmelt-macro+meltdesc.c
	* melt/generated/warmelt-macro+melttime.h
	* melt/generated/warmelt-macro.c
	* melt/generated/warmelt-modes+01.c
	* melt/generated/warmelt-modes+02.c
	* melt/generated/warmelt-modes+meltdesc.c
	* melt/generated/warmelt-modes+melttime.h
	* melt/generated/warmelt-modes.c
	* melt/generated/warmelt-normal+01.c
	* melt/generated/warmelt-normal+02.c
	* melt/generated/warmelt-normal+03.c
	* melt/generated/warmelt-normal+04.c
	* melt/generated/warmelt-normal+05.c
	* melt/generated/warmelt-normal+meltdesc.c
	* melt/generated/warmelt-normal+melttime.h
	* melt/generated/warmelt-normal.c
	* melt/generated/warmelt-normatch+01.c
	* melt/generated/warmelt-normatch+02.c
	* melt/generated/warmelt-normatch+04.c
	* melt/generated/warmelt-normatch+meltdesc.c
	* melt/generated/warmelt-normatch+melttime.h
	* melt/generated/warmelt-normatch.c
	* melt/generated/warmelt-outobj+01.c
	* melt/generated/warmelt-outobj+02.c
	* melt/generated/warmelt-outobj+03.c
	* melt/generated/warmelt-outobj+04.c
	* melt/generated/warmelt-outobj+meltdesc.c
	* melt/generated/warmelt-outobj+melttime.h
	* melt/generated/warmelt-outobj.c

2012-05-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-predef.list (CLASS_REFERENCE): New
	(CLASS_CONTAINER): Obsolete.

	* melt-runtime.c (meltfieldoff__CONTAINER_VALUE)
	(meltclasslen__CLASS_CONTAINER): New, temporarily.

	* melt-runtime.h (MELTGLOB_CLASS_REFERENCE)
	(MELTFIELD_REFERENCED_VALUE,MELTLENGTH_CLASS_REFERENCE): #define-d
	only #ifndef MELT_HAS_PREDEF_CLASS_REFERENCE.

	* melt/warmelt-first.melt (class_reference): New predefined...

	* melt/warmelt-modes.melt (generate_runtypesupport_predef_fields):
	Emit #define MELT_HAS_PREDEF_<predefname>

2012-05-29  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Speak of "references", not "containers"}}
	* melt-runtime.h (MELTGLOB_CLASS_REFERENCE): temporary macro for
	MELTGLOB_CLASS_CONTAINER.
	(MELTFIELD_REFERENCED_VALUE): temporary macro for
	MELTFIELD_CONTAINER_VALUE.
	(MELTLENGTH_CLASS_REFERENCE): temporary macro for
	MELTLENGTH_CLASS_CONTAINER.
	(melt_container_value): macro, for renamed ...
	(melt_reference_value): New function.
	(meltgc_new_container): macro, for renamed ...
	(meltgc_new_reference): New function.
	(meltgc_container_put): macro, for renamed ...
	(meltgc_reference_put): New function.
	Add #warning about temporary renaming.

	* melt-runtime.c (meltgc_new_reference, meltgc_reference_put): New
	function, renaming ...
	(meltgc_new_container, meltgc_reference_put): Renamed functions..
	(meltgc_poll_inputs): Bette debugeprintf.

	* melt/warmelt-genobj.melt (compile2obj_initproc): Emit
	melt_reference_value not melt_container_value.

	* melt/warmelt-macro.melt: Use class_reference instead of
	class_container.
	* melt/warmelt-modes.melt: Ditto.
	* melt/warmelt-normal.melt: Ditto.
	* melt/warmelt-normatch.melt: Ditto.
	* melt/warmelt-outobj.melt: Ditto.
	* melt/xtramelt-ana-simple.melt: Ditto.
	* melt/xtramelt-opengpu.melt: Ditto.
	* melt/xtramelt-probe.melt: Ditto.

2012-05-29  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Speak of "references", not "containers", which was used
	improperly in MELT}}
	* melt/warmelt-first.melt (class_reference): Synonym for
	class_container.
	(referenced_value): Synonym for field container_value.

	* melt/warmelt-base.melt (set_reference): Was set_content.
	(melt_mode_reference): was melt_mode_container
	(set_content, melt_mode_container): Obsolete synonyms

	* melt/warmelt-macro.melt (reference): same as container macro.
	(deref): same as content macro.

	* melt/warmelt-normal.melt: Change names accordingly
	* melt/warmelt-normatch.melt: Ditto
	* melt/warmelt-outobj.melt: Ditto
	* melt/warmelt-modes.melt: Ditto
	* melt/xtramelt-probe.melt: Ditto
	* melt/xtramelt-opengpu.melt: Ditto

2012-05-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (probe_start): New function.
	(probe_docmd): Call it.

2012-05-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): Retrieve the closure
	correctly. Seems to work.

2012-05-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): On end of input, replace
	the handler with :TRUE.

2012-05-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): handling end of input for
	POLLHUP etc...

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): Even more debugprintf.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): Even more debugprintf.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): More debugprintf.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_poll_inputs): Always calls poll, even when
	nbfd is 0. More debugprintf.

	* melt/xtramelt-probe.melt (probe_at_exit): More debug.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (foreach_pair, foreach_in_list): Move up.
	(init_exitfinalizer): Add code chunks for debugeprintf.
	Use foreach_in_list instead of list_every.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: Always include the warmelt*.c for md5sum.
	* melt-build.mk: Regenerate.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-modes.melt: Always register
	child_process_sigchld_handler because it also handles probe
	ending.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_interrupted, melt_blocklevel_interrupts)
	(MELT_CHECK_INTERRUPT): Remove compatibility macros.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Use "signal" not "interrupt" in names}}
	* melt-runtime.h (melt_interrupted): Rename as
	(melt_signaled).
	(melt_blocklevel_interrupts): Rename as
	(melt_blocklevel_signals).
	(MELT_CHECK_INTERRUPT): Rename as
	(MELT_CHECK_SIGNAL).
	(melt_interrupted, melt_blocklevel_interrupts)
	(MELT_CHECK_INTERRUPT): Temporary macros for old compatibility.

	* melt-runtime.c:
	Use MELT_CHECK_SIGNAL everywhere instead of MELT_CHECK_INTERRUPT.
	(melt_interrupted): Rename as ...
	(melt_signaled): New.
	(melt_handle_interrupt): Rename as ...
	(melt_handle_signal): New.

	* melt/warmelt-first.melt: Mention MELT_CHECK_SIGNAL in comments

	* melt/warmelt-base.melt (block_signals): Use MELT_CHECK_SIGNAL.

	* melt/warmelt-normal.melt (class_nrep_checkinterrupt): Rename as
	(class_nrep_checksignal): New.

	* melt/warmelt-normatch.melt (normexp_match, normexp_altmatch):
	Use class_nrep_checksignal.

	* melt/warmelt-genobj.melt (compilobj_nrep_checkinterrupt): Rename as
	(compilobj_nrep_checksignal): New, and use class_objchecksignal.

	* melt/warmelt-outobj.melt (outpucod_procroutine): Emit
	current_blocklevel_signals_*_melt and melt_blocklevel_signals.
	(outpucod_objcheckinterrupt): Rename as ...
	(outpucod_objchecksignal): ... emit MELT_CHECK_SIGNAL

2012-05-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_wait_for_probe): Declare.
	* melt-runtime.c (melt_wait_for_probe): No more static.
	* melt/warmelt-base.melt (block_interrupts): Remove, since renamed
	as ...
	(block_signals): Add.
	* melt/warmelt-modes.melt (unregister_alarm_timer): Done.
	(childproc_bucket_container): New.
	(child_process_sigchld_handler): New.
	(register_child_process_handler): Implement.

2012-05-11  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-05-11  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_blocklevel_interrupts): New declaration.
	(MELT_CHECK_INTERRUPT): Use it.

	* melt-runtime.c (melt_blocklevel_interrupts): New variable.

	* melt/warmelt-base.melt (block_interrupts): New c-interator.

	* melt/warmelt-outobj.melt (outpucod_procroutine): Save and
	restore the melt_blocklevel_interrupts at prologue & epilogue.

	* melt/warmelt-modes.melt (register_alarm_handler)
	(unregister_alarm_timer): Use block_interrupts.

2012-05-11  Basile Starynkevitch  <basile@starynkevitch.net>
	{{for merge with trunk svn 187397, since gimple_seq are
	disappearing in GCC 4.8}}

	* melt-runtime.h (melt_gt_ggc_mx_gimple_seq_d): New declaration
	(gt_ggc_mx_gimple_seq_d): Macro defined when GCC 4.8 only.

	* melt-runtime.c (melt_gt_ggc_mx_gimple_seq_d): New function,
	defined for GCC 4.8 only.

	* melt/warmelt-debug.melt (melt_debug_fun): Add cast in our
	warning diagnostic to avoid a warning.

2012-05-11  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (MELT_AUTOHOST_H): New.
	(MELTGCC_BUILD_WITH_CXX): Use it.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_set_real_timer_millisec): New declaration.
	(melt_longsbucket_nth_key, melt_longsbucket_nth_val): New
	functions.

	* melt-runtime.c (melt_set_real_timer_millisec): New function.

	* melt/warmelt-first.melt (bucketlong_nth_key)
	(bucketlong_nth_val): New primitives.

	* melt/warmelt-base.melt (relative_time_millisec)
	(set_real_timer_millisec): New primitives.

	* melt/warmelt-modes.melt (handle_alarm_signal)
	(register_alarm_handler): New functions.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_relative_time_millisec): New declaration.
	* melt-runtime.c (melt_relative_time_millisec): New function.
	* melt/warmelt-modes.melt: Improve stubs.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt (mexpand_defun): Signal error for empty
	body.
	* melt/warmelt-modes.melt (register_alarm_timer)
	(register_child_process_handler, register_input_channel_handler)
	(unregister_alarm_timer, unregister_child_process_handler): New stubs.

	* melt/xtramelt-probe.melt (show_version_probe): Send a
	SETSTATUS_pcd command.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_got_sigchld): New volatile variable.
	(melt_argdescr_length): Better cast.
	(melt_probe_start): Return the pid.
	* melt-runtime.c (melt_got_sigchld): New volatile variable.
	(melt_probe_start): Return the pid.
	(melt_raw_sigchld_signal): New.
	(melt_install_signal_handlers): Use it.
	(meltgc_handle_sigalrm): Count them.
	(meltgc_handle_sigchld): New stub.
	(meltgc_handle_interrupt): Deal with SIGCHLD.

	* melt-predef.list (CLASS_ALARM_HANDLER)
	(CLASS_CHILD_PROCESS_HANDLER): New.

	* melt/warmelt-first.melt (class_alarm_handler)
	(class_child_process_handler): New.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_argdescr_length): Handle MELTPAR_MARKGGC ie
	(void*)-1L as null.
	* melt/warmelt-modes.melt (makedoc_genmacro): Add debug.
	(makedoc_genmacro, makedoc_genciterator): Sort correctly.

2012-05-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.6-pre

	* Makefile.in (melt-runtime-params-inc.c): Add melt_header_dir.
	(melt_header_dir): New variable.
	(install-plugin): Install the MELT headers separately.
	(melt_version_string): New variable.
	(melt_source_dir, melt_header_dir, melt_module_dir)
	(melt_installed_module_makefile): Use it.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (probe_docmd): Initialize the
	probedata_reqhdict slot.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl (melt-clean): Only remove meltgen*texi files.
	* melt-build.mk: Regenerate.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-probe.melt (probe_register_request_verb)
	(probe_register_request_verb): More debug.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_read_from_rawstring): Keep valv in its
	frame slot.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_skipspace_getc): Skip terminating newline
	in buffers.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_basename): New function.
	(debugeprint*): Use it in macros.

	* melt-runtime.c: Use it everywhere.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c: indented with astyle -gnu -s2 command.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_probe_start): Test that the probe did not
	terminate at once...

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_send_command_strbuf_to_probe): Test
	existence of probe process before sending...

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-05-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (valdesc_bucketlongs): Better copying &
	cloning routines.

2012-05-05  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-05-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base (valdesc_bucketlongs): Add asserts
	* melt-runtime.c (melt_check_call_frames_at)
	(meltnbcheckcallframes, meltthresholdcheckcallframes): Only #if
	ENABLE_GC_CHECKING.

2012-05-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_new_longsbucket): Correct allocated &
	cleared size.

2012-05-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (MELT_PROBE_QUIT_COMMAND): Add newline and delay.

	* melt/xtramelt-probe.melt (probe_register_request_verb)
	(show_version_probe): New
	(probe_docmd): Register VERSION_prq verb.

2012-05-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c: include <wordexp.h>
	(melt_probe_start): Rewritten to use wordexp & wordfree.

2012-05-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_probe_start): Add exec to command. The file
	descriptors are still probably wrong.

	* melt/xtramelt-probe.melt (probe_docmd): Return true.

2012-05-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_send_command_strbuf_to_probe): Add debug
	print.

2012-05-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_new_real_accessible_path_string): Add
	cast.
	(melt_probe_start): Move debug messages.
	(melt_send_command_strbuf_to_probe): Add CONST_CAST.

2012-05-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-05-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_get_inisysdata): Move out...
	* melt-runtime.h (melt_get_inisysdata): Move to here

	* melt/warmelt-base.melt (poll_all_inputs): New primitive.

	* melt/xtramelt-probe.melt (class_probe_data): Add
	probedata_cmdtoprobefd & probedata_reqfromprobefd fields.
	(probe_request_processor): Clear them on EOF.
	(probe_at_exit): New internal function.
	(probe_docmd): Fill them, and register at exit..

2012-04-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (class_input_channel_handler): Add
	documentation.

	* melt/warmelt-modes.melt (register_input_channel_handler): Add
	documentation. Set the magic number to the fd.

	* melt/xtramelt-probe.melt (class_probe_data): Add
	probedata_reqhdict & probedata_aux fields.
	(probe_get_data): New function.
	(probe_request_processor): New internal function.
	(probe_docmd): Start the probe and register its input handler.

2012-04-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt (when,unless): Add macro for syntactic
	sugar.
	(mexpand_when, mexpand_unless): New sugaring macro expanders.

	* melt/xtramelt-probe.melt (class_probed_file, class_probe_data):
	New classes.
	(probe_get_file_of_name, send_command_to_probe)
	(send_object_to_probe): New functions or selector.

2012-04-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (meltgc_new_real_accessible_path_string): New
	declaration.

	* melt-runtime.c (meltgc_new_real_accessible_path_string): New
	function.

	* melt/warmelt-base.melt (make_string_real_access_path)
	(make_string_real_access_path_value): New primitives.

	* melt/xtramelt-ana-base.melt (main_input_filename): New primitive.

2012-04-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_send_command_strbuf_to_probe): New
	declaration.
	* melt-runtime.c (melt_send_command_strbuf_to_probe): New
	function.
	* melt/warmelt-base.melt (add2out_cenconst): New primitive.
	* melt/xtramelt-probe.melt (send_object_to_probe): New selector.
	* melt/xtramelt-probe.melt (send_command_to_probe): New function.

2012-04-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* common.opt (-fmelt-probe=): New, using melt_probe_string
	variable.

	* melt-runtime.h (melt_probe_start): Improve comment.

	* melt-runtime.c (melt_argument): Handle "probe".
	(melt_probe_start): Guess the probecmd if none given.
	(melt_really_initialize): When print-settings, output the
	MELTGCCBUILTIN_PROBE.

	* Makefile.in (melt_default_probe): New.
	(melt-runtime-params-inc.c): Use it.

2012-04-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_wait_for_probe): Add waitopt formal.
	(melt_probe_stop): Use it. The last wait is blocking, but should
	never happen...

2012-04-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_probe_stop, melt_probe_start): New
	declarations.

	* melt-runtime.c (melt_probe_pid, melt_probe_reqfrom_fd)
	(melt_probe_cmdto_fd, melt_wait_for_probe): New static variables &
	function.
	(melt_probe_stop, melt_probe_start): New function.
	(melt_install_signal_handlers): Handle SIGPIPE like SIGIO.

2012-04-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_raw_sigio_signal, melt_raw_sigalrm_signal)
	(meltgc_poll_inputs): More comments about signal handling.
	(melt_install_signal_handlers): Handle SIGVTALRM.
	(meltgc_handle_sigalrm): Implement it.

2012-04-25  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-04-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.def: Add xtramelt-probe.melt
	* melt-build.mk: Regenerate.

	* melt-runtime.c: Add comments about signal handling.

	* melt/warmelt-first.melt (class_initial_system_data): Add
	comments and sysdata_alarm_hook field.

	* melt/xtramelt-probe.melt: New file.

2012-04-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.def: Add xtramelt-ana-tree.melt &
	xtramelt-ana-gimple.melt
	* melt-build.mk: Regenerate.

	* melt/warmelt-normal.melt (normexp_export_values): Replace
	multiple_every with foreach_in_multiple.

	* melt/xtramelt-ana-base.melt: Split into several files, that is
	xtramelt-ana-base.melt & xtramelt-ana-tree.melt &
	xtramelt-ana-gimple.melt.

	* melt/xtramelt-ana-tree.melt: New file.

	* melt/xtramelt-ana-gimple.melt: New file.

2012-04-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (void, variadic_type_code): Less warnings
	in macrostrings.

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-04-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (syntestgen_cmatcher): Emit
	locations...

2012-04-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt (class_source_defcmatcher): Add
	scmatdef_testloc, scmatdef_fillloc, scmatdef_operloc fields.
	(mexpand_defcmatcher): Fill them.

2012-04-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_new_int, meltgc_new_mixint)
	(meltgc_new_mixloc): Give default discr if passed null.

	* melt/warmelt-first.melt (class_primitive): Better doc.

	* melt/warmelt-macro.melt (class_source_defprimitive): Add
	sprim_exploc field.
	(mexpand_defprimitive): Fill it.
	(class_source_defciterator): Add sciterdef_beforeloc &
	sciterdef_afterloc fields.
	(mexpand_defciterator): Fill them.

	* melt/warmelt-outobj.melt (syntestgen_primitive): Emit precise
	location of chunk.
	(syntestgen_citerator): Likewise.

2012-04-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (READ_WARNING): Macro renamed as
	(MELT_READ_WARNING): New macro ...
	(enum melt_macrostring_en): New.
	(meltgc_makesexpr): Use it.
	(melt_compile_source, meltgc_readmacrostringsequence)
	(meltgc_readval): Ditto.

2012-04-23  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-04-23  Basile Starynkevitch  <basile@starynkevitch.net>

	{{improvements for merging with GCC 4.8 trunk svn rev 186692}}
	* melt-run.proto.h (MELT_GCC_VERSION): Define, if unknown, in the
	generated melt-run.h file.

	* melt-runtime.c (melt_val2passflag): TODO_dump_func &
	TODO_dump_cgraph don't exist in GCC 4.8.

	* melt-build.tpl: Say flavor, not variant!  Build first the
	quicklybuilt application modules, to catch error in macro C
	strings...

	* melt-build.mk: Regenerate.

	* melt/warmelt-base.melt (valdesc_strbuf): Check for MELT_GCC_VERSION also.

	* melt/warmelt-genobj.melt (compilobj_nrep_citeration): Use
	meltcit prefix in generated citerator names..

	* melt/warmelt-outobj.melt (syntestgen_citerator): Use
	meltcitstate prefix.

	* melt/xtramelt-ana-base.melt (each_cgraph_fun_body)
	(each_cgraph_fun_entryblock, each_cgraph_fun_call_flow_graph)
	(each_bb_cfun, with_cfun_decl): Adapt to GCC 4.8, add
	documentation.
	(each_cgraph_decl): Only for GCC 4.6 & 4.7



2012-04-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_really_initialize): Don't print null
	strings for print-settings

2012-04-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_really_initialize):
	For "print-settings" argument print MELTGCCBUILTIN_BUILD_WITH_CXX.

2012-04-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.5+
	(melt_assert_failed,melt_check_failed): Declare even without
	ENABLE_ASSERT_CHECKING

2012-04-12  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.5 for release.

2012-04-12  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: Added a lot of :doc strings.
	(gimple_switch): Also extracting TDEFLAB.
	(foreach_case_of_gimple_switch): New local CASEIX.
	(tree_result_decl_of_name): Extracting more.

2012-04-11  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-04-11  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.5-rc4

2012-04-11  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-modes.melt (translatetomodule_docmd): Pass the
	curenv to translate_to_flavored_module. Fix bug reported in
	0.9.5rc3 by Alexandre Lissy.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerated}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (gimple_transaction)
	(gimple_eh_else): Define and export only for GCC 4.7.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-macro.melt (mexpand_gccif): Accept a list of
	strings as version.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumping to 0.9.5rc3

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (gimple_predict): New.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (gimple_try, gimple_try_catch)
	(gimple_try_finally): New.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (variadic_skip): Fictive use of $DELTA
	outside of variadic functions.

	* melt/warmelt-outobj.melt (outpucod_initialroutine): The emitted
	forward_or_mark_module & initialmeltchunk routines are prefixed
	meltmod.

	* melt/warmelt-modes.melt (register_input_channel_handler): Add
	casts in printf.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (gimple_catch, gimple_eh_dispatch)
	(gimple_eh_else, gimple_eh_filter, gimple_eh_must_not_throw)
	(gimple_resx): New.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: Add or improve documentation of
	many cmatchers.
	(gimple_transaction): New cmatcher.

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_plugin_gcc_version)
	(melt_gccplugin_version): New declarations.

	* melt-runtime.c (melt_plugin_gcc_version)
	(melt_gccplugin_version): New variable definitions.

	* melt-run.proto.h: Remove include of "plugin-version.h"

2012-04-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (gimple_cond, gimple_cond_ltgt)
	(gimple_cond_ordered, gimple_cond_uneq, gimple_cond_unge)
	(gimple_cond_ungt, gimple_cond_unle, gimple_cond_unlt)
	(gimple_cond_unordered, gimple_error_mark): New.

2012-04-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (GCCMELT_QUICKLYBUILT_FLAGS): Add -Wall.

2012-04-06  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-04-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (mapobject_auxput): Typo.
	* melt/warmelt-outobj.melt (syntestgen_cmatcher): Emit code for
	out variables to avoid warnings in C code.

2012-04-06  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-04-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (syntestgen_citerator): Emit a useless
	test for each body formal, to avoid warnings on the C code.

2012-04-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (MELTGCC_BUILD_WITH_CXX): File auto-host.h might
	be in current dir...

2012-04-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (translate_macroexpanded_list): Give
	warnings when outputing huge buffers, above half their limits.

2012-04-04  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-04-04  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl: Translate the xtramelt*melt files with both
	quicklybuilt & optimized flavors of translator.

	* melt-build.mk: Regenerate.

	* melt/warmelt-macro.melt: Ensure that every call to
	expand_pairlist_as_tuple gets its modctx.

	* melt/warmelt-normal.melt (normexp_apply): Better error message
	when applying a non-value...

	* melt/warmelt-outobj.melt (buffer_limit_cont): Increase
	it. 9Mbytes of output is not enough.
	(outpucod_objinielem, output_predef, outcinitfill_objinitobject)
	(outcinitpredef_objinitobject, outcinitfill_objinitmultiple)
	(outcinitfill_objinitclosure, outcinitfill_objinitroutine)
	(outcinitfill_objinitstring, outcinitfill_objinitboxedinteger)
	(outcinitfill_objinitpair, outcinitfill_objinitlist)
	(output_raw_location, output_location, output_curframe_declstruct)
	(outpucod_procroutine, output_curframe_cdat_struct)
	(output_curframe_cdat_fill, outpucod_initialroutine): Add debug
	messages and backtraces for very big strbuffers.

	* melt/xtramelt-ana-base.melt (gimple_seq_alloc)
	(gimple_seq_add_stmt, gimple_seq_boxed_add_stmt)
	(gimple_seq_boxed_add_seq, gimple_seq_boxed_make_fill)
	(gimple_seq_boxed_make_fill): New primitives or function.


2012-04-02  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.5rc2

2012-04-02  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl (meltframe.args-tmp): Typo.

	* melt-build.mk: Regenerate.

2012-04-02  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_checked_assignmsg_at): Cast argument of
	melt_discr.
	(melt_checked_assign_internal, melt_checked_assignmsg_internal):
	New internal macros.
	(melt_checked_assign, melt_checked_assignmsg): Use them.

	* melt-module.mk (GCCMELT_CC, MELTCC, MELTGCC_BUILD_WITH_CXX):
	New, like in contrib/MELT-Plugin-Makefile.

	* melt-build.tpl (meltframe.args-tmp): Test for include-fixed may
	fail.

	* melt-build.mk: Regenerate.

2012-03-31  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-31  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (add2sbuf_dynloaded_suffix)
	(make_string_without_dynloaded_suffix, string_dynloaded_suffixed):
	New primitives.
	* melt/warmelt-outobj.melt (translate_macroexpanded_list)
	(translate_to_c_one_or_more_melt_files): Use them.
	* melt/warmelt-modes.melt: Also use them.

2012-03-31  Romain Geissler  <romain.geissler@gmail.com>
	* melt-module.mk (SHARED_LIBRARY_FLAGS): New.
	Use it for all our flavors.

2012-03-31  Basile Starynkevitch  <basile@starynkevitch.net>
	with help from Romain Geissler  <romain.geissler@gmail.com>
	* melt-runtime.h (MELT_DYNLOADED_SUFFIX): New constant macro.
	* melt-runtime.c (meltgc_new_string_generated_c_filename)
	(melt_load_module_index): Use it.
	(meltgc_poll_inputs): Remove test of _POSIX_C_SOURCE.

2012-03-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl (melt-clean): Don't remove all melt*.c files!
	* melt-build.mk: Regenerate.

2012-03-29  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.5rc1

2012-03-29  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-29  Basile Starynkevitch  <basile@starynkevitch.net>
	{{all the generated values are declared melt_ptr_t, not void*
	anymore}}

	* melt/warmelt-genobj.melt (compile2obj_initproc): Emit cast for
	getprevenv.
	* melt/warmelt-outobj.melt: Emit melt_ptr_t in all value
	initializers.

2012-03-28  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (is_edge, mapgimple_remove)
	(maptree_remove, mapedge_remove, maploop_remove, maptree_remove):
	Add cast for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (gimple_seq_add_seq)
	(gimple_seq_add_stmt, gimple_seq_boxed_add_seq)
	(gimple_seq_boxed_add_stmt): Remove.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: More casts for C++.
	* melt/xtramelt-ana-simple.melt: More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt: More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (loop_body_tuple): Typo.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (each_bb_cfun): Typo.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-make-string.c (main): Output extern "C" for C++...

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (output_melt_descriptor): Emit
	declaration of melt_versionmeltstr as extern "C".

	* melt-runtime.c (melt_load_module_index): Expect the
	melt_versionmeltstr to be long enough.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl (MELT_ZERO_GENERATED_[+mkvarsuf+]_CUMULMD5): Skip
	line with extern in awk program.
	* melt-build.mk: Regenerate.

	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_load_module_index): Ignore descriptive
	lines with extern "C". Expect the cumulated md5 to be not too
	short.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (output_melt_descriptor): Emit extern
	"C" for each descriptor symbol.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_load_module_index): Got additional errorp
	formal. Set it to dlerror () in MELTDESCR_REQUIRED_SYMBOL.

	* melt/warmelt-outobj.melt (output_melt_descriptor): Emit extern
	"C" for each timestamp symbol.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (output_exported_offsets): Wrap with
	extern "C" the generated constant offsets & classlen.

	{{Regenerate}}
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (outpucod_initialroutine)
	(output_melt_descriptor): Emit code wrapping extern "C"


2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-modes.melt: More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (GCCMELT_QUICKLYBUILT_FLAGS): Remove -Wc++-compat

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bump to 0.9.5rc0

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-modes.melt:  More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt: More casts for C++.
	* melt/warmelt-modes.melt: Ditto.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.


2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt: More casts for C++.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (add2sbuf_mixloc): Typo.
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (GCCMELT_QUICKLYBUILT_FLAGS): Temporarily add -Wc++-compat
	* melt/warmelt-first.melt: Add casts.
	* melt/warmelt-base.melt: Likewise.
	* melt/warmelt-debug.melt: Likewise.
	* melt/warmelt-outobj.melt: Likewise.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt: More casts.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.


2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-debug.melt: Add casts.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.



2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-first.melt: Add cast.
	* melt/warmelt-base.melt: Add cast.

2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.


2012-03-27  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (get_globpredef): Cast result.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt: Cast to melt_ptr_t.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt: Cast to melt_ptr_t.
	* melt/warmelt-modes.melt: Ditto.
	* melt/warmelt-first.melt: Ditto.
	* melt/xtramelt-ana-base.melt: Ditto.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt: Casting to melt_ptr_t. More pretty
	macrostrings.

	* melt/waremelt-base.melt: Ditto.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt: Cast value for MELT_STORE_PREDEF.
	* melt/warmelt-genobj.melt: Likewise.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/xtramelt-ana-base.melt (foreach_argument_in_function_tree):
	Typo in macrostring.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-first.melt (initial_system_data): Cast when calling
	meltgc_new_file.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c: Rename READ_ERROR as MELT_READ_ERROR.
	(readsimplename): Renamed as ...
	(melt_readsimplename).
	(readsimplelong): Renamed as ...
	(melt_readsimplelong).

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (meltgc_new_string_tempname_suffixed): Add cast.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-26  Basile Starynkevitch  <basile@starynkevitch.net>
	{{better C++ compatibility}}
	* melt-runtime.c (meltgc_add_out_raw_len): Declare eol as const.
	(meltgc_new_string_nakedbasename): Add cast.
	(meltgc_load_one_module): Ditto.
	(meltgc_poll_inputs): Ditto.

	* melt/warmelt-first.melt (bucketlong_setaux): Typo in generating
	chunk.

	* melt/warmelt-outobj.melt (outcinitfill_objinitobject)
	(output_curframe_declstruct_init): Emit more casts.

2012-03-23  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_checked_assignmsg): Revert.

2012-03-23  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-23  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_checked_assignmsg_at): Macro expanding to
	statement.
	(melt_checked_assignmsg): Temporary no-op

	* melt/warmelt-base.melt (checkval_dbg): Primitive with void
	result.

2012-03-19  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (meltgc_poll_inputs): Add declaration.
	(meltgc_install_polling_channel): Remove declaration.

	* melt-runtime.c (meltgc_poll_inputs): With invalid fds, replace
	their channel handler by :true in bucket.
	(meltgc_install_polling_channel): Remove function.

	* melt/warmelt-mode.melt (register_input_channel_handler): Coded.

2012-03-19  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-first.melt (foreach_in_bucketlong_backward): New
	c-iterator.

2012-03-15  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (meltgc_readseqlist): Add check for unexpected }#
	chars.
	(meltgc_readmacrostringsequence): Handled embedded $(sub-sexpr)
	and $[seq expr]


2012-03-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_strbuf_consume): New inline function.

	* melt-runtime.c (meltgc_notify_sysdata_passexec_hook): Remove.
	(meltgc_poll_inputs): More.

2012-03-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-predef.list (CLASS_INPUT_CHANNEL_HANDLER): New.

	* melt-runtime.c: Include <poll.h>
	(MELT_BUFSIZE): New macro constant.
	(melt_passexec_callback): Renamed as...
	(meltgc_passexec_callback): renaming, since a GC function.
	(melt_raw_sigio_signal, melt_raw_sigalrm_signal): New short signal handlers.
	(melt_install_signal_handlers): New function to Install them.
	(melt_really_initialize): Call it. Always register a
	PLUGIN_PASS_EXECUTION to ensure interrupts are called.
	(meltgc_notify_sysdata_passexec_hook): Obsolete function.
	(meltgc_poll_inputs): New function, still incomplete.
	(meltgc_notify_inchannel_data): Remove.
	(meltgc_handle_sigio): Most code goes into meltgc_poll_inputs.

	* melt/warmelt-first.melt (class_input_channel_handler): New
	predefined class, moved from warmelt-base.melt:

	* melt/warmelt-base.melt (class_input_channel_handler): Move to
	warmelt-first.melt.

2012-03-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (meltgc_read_file, meltgc_read_from_rawstring)
	(meltgc_read_from_val): Use MELT_LOCATION...
	(handle_melt_pragma, melt_pragma_callback)
	(melt_handle_melt_pragma, melt_pre_genericize_callback)
	(melt_startunit_callback, melt_finishunit_callback)
	(melt_passexec_callback, meltgc_run_meltpass_after_hook)
	(meltgc_gimple_gate, meltgc_gimple_execute, meltgc_rtl_gate)
	(meltgc_rtl_execute, meltgc_simple_ipa_gate)
	(meltgc_simple_ipa_execute, meltgc_register_pass)
	(meltgc_finishtype_callback, meltgc_finishdecl_callback)
	(meltgc_notify_sysdata_passexec_hook, meltgc_usedef_internalfun)
	(meltgc_walk_use_def_chain, melt_handle_melt_attribute):
	Likewise. Also do MELT_CHECK_INTERRUPT.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-base.melt (register_input_channel_handler): Move it
	to .....
	* melt/warmelt-modes.melt (register_input_channel_handler): Moved
	here.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (meltgc_handle_interrupt): Renamed to
	(melt_handle_interrupt).
	(melt_got_sigio, melt_got_sigalrm): New volatile variables.
	(MELT_CHECK_INTERRUPT): Call melt_handle_interrupt.
	(meltgc_notify_inchannel_data): New function.

	* melt-runtime.c (meltgc_new_longsbucket): Default DISCR_BUCKET_LONGS.
	(melt_raw_sigio_signal, melt_raw_sigalrm_signal)
	(meltgc_notify_inchannel_data, meltgc_handle_sigio, meltgc_handle_sigalrm): New functions. 
	(meltgc_handle_interrupt): Renamed to
	(melt_handle_interrupt).

	* melt/warmelt-base.melt (class_input_channel_handler): New.
	(register_input_channel_handler): New stub.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-predef.list (DISCR_BUCKET_LONGS): New.

	* melt-runtime.h (melt_longsbucket_count): Add assert.

	* melt-runtime.c (meltgc_new_longsbucket): Should default DISR_BUCKET_LONGS.

	* melt/warmelt-first.melt (class_system_data): Adding sysdata_inchannel_data slot.
	(is_bucketlong, make_bucketlong, bucketlong_get, bucketlong_aux)
	(bucketlong_xnum, bucketlong_setxnum, bucketlong_setaux)
	(bucketlong_count, bucketlong_size, bucketlong_replace)
	(bucketlong_put, bucketlong_remove): New primitives.
	(foreach_in_bucketlong): New citerator.
	(discr_bucket_longs): New predefined discriminant.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (valdesc_bucketlongs): Typos.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (meltgc_longsbucket_set_xnum): Remove, replaced
	by...
	(melt_longsbucket_set_xnum): New inline function.
	(meltgc_longsbucket_remove): Correct signature.

	* melt-runtime.c (meltgc_handle_interrupt): Avoid warning in stub code.
	(meltgc_new_longsbucket, meltgc_longsbucket_replace): Improve.
	(meltgc_longsbucket_put, meltgc_longsbucket_remove)
	(meltgc_longsbucket_set_aux): New functions.

2012-03-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (melt_longsbucket_get, melt_longsbucket_aux)
	(melt_longsbucket_xnum, melt_longsbucket_count)
	(melt_longsbucket_size): New inlined functions.
	(meltgc_longsbucket_replace, meltgc_longsbucket_put)
	(meltgc_longsbucket_remove, meltgc_longsbucket_set_aux)
	(meltgc_longsbucket_set_xnum): New declarations.

	* melt-runtime.c (meltgc_new_longsbucket)
	(meltgc_longsbucket_replace): New functions.

	* melt/warmelt-base.melt (valdesc_bucketlongs): Add cloning.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (FLEXIBLE_DIM, HAVE_FLEXIBLE_DIM): Remove, since
	use MELT_FLEXIBLE_DIM & MELT_HAVE_FLEXIBLE_DIM instead.
	* melt-runtime.c (struct meltmappointers_st): Use
	MELT_FLEXIBLE_DIM.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt-build.mk: Regenerate.
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (valdesc_hashlongs): Remove.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (valdesc_hashlongs): Got
	hashl_bucktab....

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-base.melt (valdesc_hashlongs): Typos.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl ([+melt_stage+]-fullstage.stamp): Depends upon
	[+melt_stage+]/[+base+].c ...

	* melt-build.mk: Regenerate.

	* melt/warmelt-base.melt (valdesc_hashlongs): Typos.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (FLEXIBLE_DIM, HAVE_FLEXIBLE_DIM): Obsolete,
	replaced by
	(MELT_FLEXIBLE_DIM, MELT_HAVE_FLEXIBLE_DIM): New macros.
	(struct melt_bucketlongentry_st): New.
	(meltgc_new_longsbucket, meltgc_new_longshash): New declarations.
	(meltgc_install_polling_channel): New declaration.

	* melt-runtime.h (meltgc_handle_interrupt): Add comment.
	(meltgc_install_polling_channel, meltgc_new_longsbucket)
	(meltgc_new_longshash): New function stubs.

	* melt/warmelt-base.melt (valdesc_bucketlongs, valdesc_hashlongs):
	New value descriptor.

2012-03-12  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl (MELT_MAKE_MODULE_XTRAMAKEFLAGS): Export it.

	* melt-build.mk: Regenerate.

	* Makefile.in (MELT_MAKE_MODULE_XTRAMAKEFLAGS): Default  to -j2.
	(melt.encap): Don't build explicitly warmelt1

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-predef.list (CLASS_INFIX_ADDITIVE_SYMBOL)
	(CLASS_INFIX_DELIMITER, CLASS_INFIX_INTEGER_LITERAL)
	(CLASS_INFIX_LEXEME): Remove.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-predef.list (CLASS_INFIX_KEYWORD)
	(CLASS_INFIX_MULTIPLICATIVE_SYMBOL, CLASS_INFIX_RELATIONAL_SYMBOL)
	(CLASS_INFIX_STRING_LITERAL, CLASS_INFIX_SYMBOL): Remove.

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-predef.list: Use @POISON, not POISON.
	* make-warmelt-predef.awk: Better error message.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (class_infix_additive_symbol)
	(class_infix_any_symbol, class_infix_delimiter)
	(class_infix_integer_literal, class_infix_keyword)
	(class_infix_lexeme, class_infix_multiplicative_symbol)
	(class_infix_relational_symbol, class_infix_string_literal)
	(class_infix_symbol): Remove.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_open_infix_file, meltgc_infix_lexeme):
	Remove declaration.

	* melt-runtime.c (enum commenthandling_en): Remove COMMENT_INFIX.
	(skipspace_getc): Renamed as...
	(melt_skipspace_getc): Rename of skipspace_getc.
	Remove all infix related code.
	(melt_compile_source): Update calls to melt_skipspace_getc.
	(struct infixreading_st): Remove.
	(melt_open_infix_file, meltgc_infix_lexeme)
	(melt_close_infix_file): Remove function.
	(meltgc_intern_keyword, melt_compile_source, meltgc_read_file)
	(meltgc_read_from_rawstring, meltgc_read_from_val): Update calls
	to melt_skipspace_getc.

	* melt-predef.list (CLASS_INFIX_ADDITIVE_SYMBOL)
	(CLASS_INFIX_DELIMITER, CLASS_INFIX_INTEGER_LITERAL)
	(CLASS_INFIX_LEXEME, CLASS_INFIX_KEYWORD)
	(CLASS_INFIX_MULTIPLICATIVE_SYMBOL, CLASS_INFIX_RELATIONAL_SYMBOL)
	(CLASS_INFIX_STRING_LITERAL, CLASS_INFIX_SYMBOL): Poison them.

2012-03-09  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Alternative infix syntax abandonned}}
	* melt/xtramelt-parse-infix-syntax.melt: Remove file
	* melt-build.def: Remove reference to above file
	* melt-build.mk: Regenerate.

2012-03-08  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-build.tpl (meltframe.args): Add -Iinclude-fixed if it exists.

	* melt-build.mk: Regenerate.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate, with interrupt checks}}
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-normal.melt (normexp_apply): Change message when
	non-value first argument.  Add void binding to check interrupts.
	(normexp_msend, normexp_return, normexp_if, normexp_ifelse)
	(normexp_forever, normexp_citeration, normexp_unsafe_put_fields)
	(normexp_put_fields, normexp_instance): Add void binding to check
	interrupts.

	* melt/warmelt-normatch.melt (normexp_match, normexp_altmatch):
	Add void binding to check interrupts.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-normal.melt (wrap_normal_letseq): Handle non-tuple,
	1-tuple, and put an interrupt check for tuples of degree >= 2.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-genobj.melt (class_objcheckinterrupt): New class.
	(compilobj_nrep_checkinterrupt): Use it.
	* melt/warmelt-outobj.melt (outpucod_objcheckinterrupt): New
	method for output_c_code of class_objcheckinterrupt.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>
	(MELT_UNLIKELY): Remove redefinition.

2012-03-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_interrupted, meltgc_handle_interrupt): New
	declarations.
	(MELT_UNLIKELY, MELT_CHECK_INTERRUPT): New macros.

	* melt-runtime.c (melt_interrupted): New definition.
	(meltgc_handle_interrupt): Unimplemented routine.

	* melt/warmelt-normal.melt (class_nrep_checkinterrupt): New class.

	* melt/warmelt-genobj.melt (compilobj_nrep_checkinterrupt): New
	method for compile_obj on class_nrep_checkinterrupt.

2012-03-06  Basile Starynkevitch  <basile@starynkevitch.net>
	{{much faster build, when useless...; a second make after a first
	one take only 30sec instead of 3 min..}}

	* melt-build.tpl: More touch operation, notably for
	melt-stage0-*/*.so. All touches are suitably echoed...

	* melt-build.mk: Regenerate.

2012-03-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt: More debugging.

	* testsuite/melt/topengpu-vecmuls.c: Better comment.

2012-03-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_ppout_basicblock): Show a _ for empty basic blocks.

	* melt/xtramelt-ana-base.melt (==bb): New primitive.
	Improved some documentation of primitives or citerators.
	(each_cgraph_decl, with_cfun_decl, each_bb_cfun)
	(each_local_decl_cfun): Slightly improved.
	(debugtree, debugedge, debuggimple, debuggimpleseq)
	(debugbasicblock, debugtreecodenum): Removed.

	* melt/xtramelt-ana-simple.melt (smallana_gimple): Don't use
	debugtreecodenum.

	* melt/xtramelt-opengpu.melt: More debugging.

	* testsuite/melt/topengpu-vecmuls.c: New file.

2012-03-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-modes.melt (make_docgenfunction): Sort defun-s by
	symbol names.

2012-03-04  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate for 0.9.4.b release}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-04  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.4.b

	* melt/warmelt-macro.melt (macroexpand_toplevel_list): Better
	debug & asserts.

	* melt/warmelt-debug.melt (dbgout_closure_method): More pretty
	output.

	* melt/warmelt-modes.melt (makedoc_docmd): Check program
	arguments. Count output. Fail if not significant output.

2012-03-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* testsuite/melt/tmakedoc.melt: New.

	* melt/warmelt-modes.melt (class_makedoc_info): Add
	mkdoc_boxcounter field.
	(increment_mkdoc_counter): New function.
	Call it appropriately.
	(makedoc_docmd): Test it.

2012-03-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-03-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h: Include "hwint.h" explicitly.
	* melt-module.mk: Add GCCMELT_MODULE_EXTRALIBES.

2012-03-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt: More debug.
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.4

2012-03-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt: More debug.

2012-03-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.4-rc1+

2012-03-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.4-rc1

2012-03-01  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-03-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.4-

2012-03-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_basicblock_gimpleseq): New function.

	* melt/warmelt-outobj.melt (syntestgen_primitive): Emit spaces.

	* melt/xtramelt-ana-base.melt (tree_offset_type): Use
	TYPE_OFFSET_BASETYPE, not TREE_OFFSET_BASETYPE which never
	existed.

2012-02-25  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+05.c: New file.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-25  Basile Starynkevitch  <basile@starynkevitch.net>
	{{syntax-check C emission passing.}}
	* melt/warmelt-first.melt (discrim, the_meltcallcount)
	(the_callcount, is_mapobject, mapobject_size, mapobject_nth_attr)
	(mapobject_nth_val, foreach_in_mapobject, foreach_in_mapstring)
	(is_routine, routine_descr): Improve generated C code.

	* melt/warmelt-base.melt (zerop, longbacktrace_dbg, checkval_dbg)
	(make_strbuf, add2out_cencstrbuf, add2out_ccomstrbuf): Improve
	generated code.

	* melt/warmelt-macro.melt (macroexpand_toplevel_list): Warn only
	when an s-expr is macroexpanded into null at top-level.

	* melt/warmelt-outobj.melt (syntestgen_cmatcher): Emit semi-colon.
	(emit_syntax_testing_routine): Remove #if 0 from emitted C code,
	now compiled when MELT_HAVE_DEBUG...

	* melt/xtramelt-ana-base.melt: Improve generated C code.

	* melt/xtramelt-parse-infix-syntax.melt: Improve generated C code.

2012-02-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (syntestgen_citerator)
	(syntestgen_cmatcher): Better.

2012-02-25  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (syntestgen_cmatcher): Code.

2012-02-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (substitute_formals_for_syntest)
	(expand_tuple_for_syntest): New utilities functions.
	(syntestgen_citerator): Don't work.

2012-02-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* testsuite/melt/test0.melt: Improved.
	* testsuite/melt/tmacrostring.melt: Improve.
	* melt/warmelt-outobj.melt (syntestgen_primitive): Better.
	(syntestgen_citerator, syntestgen_cmatcher): Stub.
	(emit_syntax_testing_routine): Don't need modnamstr formal.
	(translate_macroexpanded_list): Call emit_syntax_testing_routine
	at better place.

2012-02-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (class_module_context): Add
	mocx_gendevlist field.

	* melt/warmelt-macro.melt (register_generator_device): New function.
	(mexpand_defprimitive, mexpand_defciterator, mexpand_defcmatcher):
	Use it.

	* melt/warmelt-outobj.melt (syntax_test_generator): New selector.
	(syntestgen_any): Catch-all method for it.
	(syntestgen_primitive): Method for it on class_primitive.
	(syntestgen_citerator): New method stub for it on class_citerator.
	(syntestgen_cmatcher): New method stub for it on class_matcher.

2012-02-24  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-02-24  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_dbgshortbacktrace): More pretty output.

	* melt/warmelt-macro.melt: All macro-expanders get an object
	modctx and use the mexpander argument, not macroexpand_1...

2012-02-23  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerated}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-23  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Should generate useless C code for every generating device
	-defprimitive defciterator etc... to test the syntactic
	correctnees of its generated C code.}}
	* melt/warmelt-macro.melt (class_source_generator_device): New
	class.
	All the macro expansion functions take a module context as fourth arguments.

	* melt/warmelt-outobj.melt (translate_macroexpanded_list): Pass
	the modctx to macro expansion. Warn for short number of
	expressions.

	* melt/warmelt-modes.melt (makedoc_docmd): Pass the makedoc info
	as module context to macroexpand_toplevel_list...

	* melt/xtramelt-ana-base.melt: Improved citerators &
	primitives. Some might generate syntactically wrong C code...

	* melt/xtramelt-opengpu.melt: More debug...

2012-02-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt: More...

2012-02-22  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (mapobject_aux, mapobject_auxput)
	(mapstring_aux, mapstring_auxput): New primitives.

	* melt/warmelt-debug.melt (dbgout_mapobject_method)
	(dbgout_mapstring_method): Display the auxiliary data if depth is
	0 or 1...

	* melt/xtramelt-ana-base.melt (mapbasicblock_aux)
	(mapbasicblock_auxput, mapedge_aux, mapedge_auxput, mapgimple_aux)
	(mapgimple_auxput, maptree_aux, maptree_auxput): New primitives.
	More :doc strings.
	(dbgout_boxedge_method, dbgout_mapedge_method): Display auxiliary
	data...

2012-02-22  Basile Starynkevitch  <basile@starynkevitch.net>
	{{adding auxiliary data inside MELT maps}}
	* melt-runtime.h (meltgc_touch_dest, meltgc_touch): Pre declared
	before include of meltrunsup.h.
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-02-22  Basile Starynkevitch  <basile@starynkevitch.net>
	{{adding auxiliary data inside MELT maps}}
	* melt-runtime.h (melt_auxdata_mapobjects, melt_auxput_mapobjects)
	(melt_auxdata_mapstrings, melt_auxput_mapstrings): New functions.

	* melt/warmelt-mode.melt (generate_runtypesupport_mapfun):
	Generate auxiliary data accessor & setter functions.

2012-02-22  Basile Starynkevitch  <basile@starynkevitch.net>
	{{adding auxiliary data inside MELT maps}}
	* melt-runtime.c (meltgc_new_mapobjects, meltgc_new_mapstrings)
	(meltgc_raw_new_mappointers): Clear the meltmap_aux field.
	(struct meltmappointers_st): New meltmap_aux field.
	* melt/generated/meltrunsup.h: temporarily hand-edited to add the
	meltmap_aux field.
	* melt/generated/meltrunsup-inc.c: temporarily hand-edited to add
	the meltmap_aux field.
	{{Then regenenerated}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

	* melt/warmelt-first.melt (class_ctype_gty): Add
	ctypg_mapauxdatafun & ctypg_mapauxputfun fields.
	(ctype_tree, ctype_gimple, ...): Fill them.

	* melt/warmelt-base.melt (valdesc_mapobjects, valdesc_mapstrings):
	mention meltmap_aux.
	* melt/warmelt-modes.melt (generate_runtypesupport_gty): Likewise.

2012-02-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (dbgout_maptree_method): Typo.

	* melt/xtramelt-opengpu.melt (opengpu_affine_accessed_array):
	Better... Added lots of assert for unhandled cases.

	* testsuite/melt/topengpu-vecsum.c: Better indentation.

2012-02-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt (opengpu_affine_accessed_array):
	Typos..

2012-02-20  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt (opengpu_affine_accessed_array):
	More, but code should be factored out...

2012-02-20  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (normpat_instancepat)
	(normpat_tuplepat, normpat_anymatchpat, normexp_match): Better debug.
	(normbind_matchbind): write a binding to be overwritten in
	normstep_msuccwhenflag.
	(normstep_msuccwhenflag): Better. Also normalize the data.
	(normexp_altmatch): Still incomplete.

2012-02-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (normbind_matchbind): Might be wrong.
	(translpat_varpat): Better debug.
	(translate_matchcase): Ditto.
	(normstep_msuccwhenflag): Likewise.

2012-02-16  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (normbind_matchbind): Perhaps incorrect.

2012-02-16  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-genobj.melt (compilobj_nrep_altmatch): Initialize
	odatamap.
	(compilobj_nrep_matchdatainit, compilobj_nrep_matchedata):
	Complete.

2012-02-16  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (altmatch_normalize_mdata): Improve,
	but not making instance oc class_nrep_matched_data for the
	originally matched normal thing.
	(normexp_altmatch): Compute also the datamap to fill the
	namatch_mdatas of the result.

	* testsuite/melt/tmatch-tuple.melt: Add one more argument to
	tuple.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+05.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (class_module_context): New field
	mocx_cheaderlist.
	* melt/warmelt-normexp.melt (normexp_cheader): Done.
	* melt/warmelt-outobj.melt (compile_list_sexpr): Add cheader
	emission.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt (dbgout_strbuf_method): Better.
	* melt/warmelt-macro.melt (mexpand_cheader): Ok.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-macro.melt (class_source_cheader): new class.
	(mexpand_cheader): New macro expander for it.

	* melt/warmelt-normexp.melt (normexp_cheader): New incomplete
	method for normal_exp on class_source_cheader.

	* melt/warmelt-normatch.melt (class_nrep_altmatch): New
	namatch_mdatas field.
	(altmatch_normalize_mdata, normexp_altmatch): Better debug.

	* melt/warmelt-genobj.melt (class_alternate_match_nrep_data): New
	altmatchn_datamap field.
	(compilobj_nrep_altmatch): Initialize it.

	* testsuite/melt/tcheader.melt: New test file.

	* testsuite/melt/tmatch-tuple.melt: Improve comment.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.


2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-first.melt (shortbacktrace_dbg): Use
	melt_need_debug to skip backtraces...

	* melt/warmelt-genobj.melt (class_objflag): Inherit from
	class_objpurevalue not class_generated_c_code.
	(compile2obj_procedure, compile2obj_initproc): Add long ~~~ line
	in first debug message.
	(putobjdest_objvalue, putobjdest_integer, putobjdest_string)
	(putobjdest_null, putobjdest_objanyblock, putobjdest_objloop)
	(putobjdest_objexit, putobjdest_objcond, putobjdest_objcppif):
	Check that desto is just a class_objpurevalue.

2012-02-14  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-genobj.melt (class_objflag): New class.
	(class_objflagblock) Renamed as...
	(class_objmatchflagblock): New.
	(class_alternate_match_nrep_data): Add altmatchn_flagmap field.
	(compilobj_nrep_altmatch): More.
	(compilobj_nrep_matchflag): Coded. update the altmatchn_flagmap

	* testsuite/melt/tmatch-tuple.melt: Update comment.

2012-02-14  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-outobj.melt (buffer_limit_cont): New private
	container.
	(get_code_buffer_limit, put_code_buffer_limit): New functions.
	(code_buffer_limit_optset): New option setter.
	(code_buffer_limit): New option.
	Add check of the code limit at many places.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: Don't use order only prerequisite for
	melt-stag*-fullstage.stamp.
	* melt-build.mk: Regenerate.

2012-02-15  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-genobj.melt (class_objcompute): Add obcpt_type
	field.
	(make_objcompute): Add ctyp formal.
	(compile2obj_initproc, compilobj_nrep_exit)
	(compilobj_nrep_unsafe_nth_component, putobjdest_objvalue)
	(putobjdest_integer, putobjdest_string)
	(compilobj_nrep_update_current_module_environment_container)
	(compilobj_nrep_matchlabel, compilobj_nrep_matchflag)
	(compilobj_nrep_matchedata, compilobj_nrep_matchjump): update accordingly.

2012-02-14  Basile Starynkevitch  <basile@starynkevitch.net>

	{{Regenerate}}
	* gcc/melt/generated/meltrunsup-inc.c: Regenerate.
	* gcc/melt/generated/meltrunsup.h: Regenerate.
	* gcc/melt/generated/warmelt-base+01.c: Regenerate.
	* gcc/melt/generated/warmelt-base+02.c: Regenerate.
	* gcc/melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-base+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-base.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+01.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+02.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-debug.c: Regenerate.
	* gcc/melt/generated/warmelt-first+01.c: Regenerate.
	* gcc/melt/generated/warmelt-first+02.c: Regenerate.
	* gcc/melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-first+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-first.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+01.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+02.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+03.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+04.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+05.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-genobj.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+01.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+02.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+03.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+04.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-macro.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+01.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+02.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-modes.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+01.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+02.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+03.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+04.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-normal.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+01.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+02.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+03.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+04.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+05.c: New generated file.
	* gcc/melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-normatch.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+01.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+02.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+03.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+04.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-outobj.c: Regenerate.

2012-02-14  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt-runtime.c (meltgc_strbuf_reserve) Improve big buffer debugging.
	(READ_ERROR): Untabify.
	(meltgc_readsexpr, meltgc_readmacrostringsequence)
	(meltgc_read_file): Use MELT_LOCATION_HERE_PRINTF...
	* melt/warmelt-base.melt (increment): New primitive.
	* melt/warmelt-debug.melt (dbgout_strbuf_method): New method for
	dbg_output on discr_strbuf.

2012-02-13  Basile Starynkevitch  <basile@starynkevitch.net>

	* melt/warmelt-normatch.melt (class_nrep_match_data_initializer):
	Improve doc.
	(complete_normstep_if_last): More debug.
	(mg_altdraw_graphviz): More nice.

2012-02-13  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_BIGLEN): New constant
	* melt-runtime.c (meltgc_strbuf_reserve): Display debug messages
	when reaching it.

2012-02-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt (dbgout_fields): Force indentation and
	output for fields of depth 0 or 1, to produce prettier output.

	* melt/warmelt-normatch.melt (mgaltstep_steptestmult): Better color.

	* melt/warmelt-genobj.melt (compilobj_nrep_altmatch): Better debug.
	(compilobj_nrep_matchlabel) Safer field access.
	(compilobj_nrep_matchflag): New fake method for compile_obj on
	class_nrep_match_flag.
	(compilobj_nrep_matchedata): New fake method for compile_obj on
	class_nrep_matched_data.
	(compilobj_nrep_matchjump): New fake method for compile_obj on
	class_nrep_match_jump.

2012-02-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (class_nrep_matched_data): Typo in
	doc-string.

	* melt/warmelt-genobj.melt (compilobj_nrep_ifisa): Use
	make_objlocatedexp.
	(compilobj_nrep_iftuplesized): New method for compile_obj on
	class_nrep_iftuplesized
	(compilobj_nrep_matchlabel): Incomplete, but generate #error.
	(compilobj_nrep_matchdatainit): Likewise.

2012-02-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (mgaltstep_steptestmult): Typo in
	generated label.

	* melt/warmelt-genobj.melt (compilobj_nrep_matchdatainit): More
	debug.

2012-02-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (scanstepdata_testins): More debug.
	(scanstepdata_testtuple): New method for scan_step_data on
	class_match_step_test_multiple.
	(scanstepdata_testwithflag): New no-op method for scan_step_data
	on class_match_step_with_flag

2012-02-09  Basile Starynkevitch  <basile@starynkevitch.net>

	* testsuite/melt/tmatch-tuple.melt: New file.

2012-02-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (mglabel_any, scanstepdata_anyrecv)
	(scanstepflag_anyrecv): Add catchall erroring methods for
	matchgraphic_label, scan_step_data, scan_step_flag.
	(mg_altdraw_graphviz): Add assertion for mdata.

2012-02-08  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (mg_altdraw_graphviz)
	(altmatch_normalize_mdata): More debug.

2012-02-08  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (putthen_matchany): New
	error-catch-all method for put_then_match on class_root.
	(putthen_matchany): New error-catch-all method for put_else_match
	on class_root.
	(translpat_tuplepat): More debugging messages.
	(mgaltstep_any): New error-catch-all method for
	matchgraphic_altstep on class_root.

2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* gcc/melt/warmelt-normatch.melt (scansubpat_construct): Remove
	duplicate.
	(mgaltstep_steptestmult): Add check.
	(fill_matchcase): Improve recursion on varpatscanner.

2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* gcc/melt/warmelt-normatch.melt (normstep_mtestmultiple): Done.

2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* gcc/melt/warmelt-normatch.melt (normstep_mtestmultiple): More.

2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* gcc/melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-base+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-base.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-debug.c: Regenerate.
	* gcc/melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-first+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-first.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+03.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+05.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-genobj.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-macro.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-modes.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+01.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+02.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+03.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+04.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+05.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-normal.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+03.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+04.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-normatch.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-outobj.c: Regenerate.


2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* gcc/melt/warmelt-normal.melt (class_nrep_ifisa): Remove nifa_val
	field.
	(normexp_get_field,normexp_put_fields): Don't use nifa_val field.

	* gcc/melt/warmelt-normatch.melt (normstep_mtestinstance)
	(normstep_mtestmultiple): Ditto.

2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}

	* gcc/melt/generated/meltrunsup-inc.c: Regenerate.
	* gcc/melt/generated/meltrunsup.h: Regenerate.
	* gcc/melt/generated/warmelt-base+01.c: Regenerate.
	* gcc/melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-base+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-base.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+01.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-debug+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-debug.c: Regenerate.
	* gcc/melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-first+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-first.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+02.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+03.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+04.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+05.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-genobj.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-macro+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-macro.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-modes+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-modes.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+01.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+02.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+03.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+04.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+05.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-normal+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-normal.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+01.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+02.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+03.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+04.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-normatch.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* gcc/melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* gcc/melt/generated/warmelt-outobj.c: Regenerate.

2012-02-07  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (class_nrep_iftestvalue): New class
	with nif_testval field.
	(class_nrep_ifisa): Inherit from above. Its field nifa_val is
	obsolete.
	(class_nrep_iftuplesized): New class.
	(normexp_get_field,normexp_put_fields): Temporarily fill both
	nifa_val and nif_testval fields.

	* melt/warmelt-normatch.melt (normstep_mtestinstance)
	(normstep_mtestmultiple): Temporarily fill both nifa_val and
	nif_testval fields.

	* melt/warmelt-genobj.melt (compilobj_nrep_ifisa): Use nif_testval
	field.

2012-02-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (normstep_mtestmultiple): More.

2012-02-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* toplev.c (announce_function): Emit newline periodically.

	* melt/warmelt-normatch.melt (normstep_mtestmultiple): New
	incomplete method for normalize_step in
	class_match_step_test_multiple.

2012-02-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (translpat_tuplepat): Done.

2012-02-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (translpat_tuplepat): More

2012-02-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (class_match_step_test_multiple): New
	class.
	(scansubpat_composite) renamed as..
	(scansubpat_construct) ..
	(translpat_tuplepat): More, but not yet complete...
	(mgaltstep_steptestmult) New method for matchgraphic_altstep on
	class_match_step_test_multiple.

2012-02-03  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_set_flag_debug, melt_clear_flag_debug): New
	declarations.
	* melt-runtime.c (meltgc_do_initial_mode): Better debug printf.
	(meltgc_set_user_options): New function.
	(meltgc_load_modules_and_do_mode): Call it.
	(melt_set_flag_debug, melt_clear_flag_debug): New functions.
	* testsuite/melt/tmatch-1.melt: improve comment.

2012-02-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_passexec_callback): Bigger location buf.
	(meltgc_do_initial_mode): Verbose debugging of exit builtin mode,
	and of failed modes.
	(meltgc_load_modules_and_do_mode): Moved handling of options.
	(meltgc_gimple_gate, meltgc_rtl_gate, meltgc_simple_ipa_gate)
	(meltgc_simple_ipa_execute, melt_handle_melt_attribute): Bigger
	location buf.
	* testsuite/melt/tmatch-2.melt: Improve comment.

2012-02-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-genobj.melt (compilobj_nrep_unsafe_nth_component)
	(compiltst_normtester_tuple): Generate meltmultiple_ptr_t with
	good spelling..
	{{tmatch-1.melt passes}}

2012-02-02  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+01.c: Regenerate.
	* melt/generated/warmelt-normatch+02.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+04.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+01.c: Regenerate.
	* melt/generated/warmelt-outobj+02.c: Regenerate.
	* melt/generated/warmelt-outobj+03.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-02-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (normpat_tuplepat): Implemented.
	* melt/warmelt-genobj.melt (make_objcompute): New function.
	(compile2obj_initproc): Use it.
	(compilobj_nrep_unsafe_nth_component): New method for compile_obj
	of class_nrep_unsafe_nth_component.
	(compilobj_nrep_store_predefined): Use make_objcompute.
	(compiltst_normtester_tuple): Done.
	* melt/warmelt-outobj.melt (outpucod_procroutine) generate #undef
	of melt_variadic_length & melt_variadic_index

2012-02-02  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (normpat_tuplepat): Skip joker subpatterns.
	* melt/warmelt-genobj.melt (make_objlocatedexp): New function.
	(compiltst_normtester_instance, compiltst_normtester_tuple): Use it.

2012-02-01  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-genobj.melt (compiltst_normtester_tuple): New
	incomplete method for compile_tester on class_normtester_tuple.

2012-01-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (class_nrep_unsafe_nth_component): New,
	with fields nunth_tuple & nunth_index
	* melt/warmelt-normatch.melt (class_normtester_tuple): New, with
	nttuple_components
	(normpat_instancepat): Sort the fields according to their pattern weight.
	(class_tuple_component_pattern): New, with tupcp_pattern & tupcp_index
	(normpat_tuplepat): New method for normal_pattern of
	class_source_pattern_tuple

2012-01-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELTDBG_MAXDEPTH): Remove dual definition when
	optimized...

2012-01-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normatch.melt (scanpat_srcpatconst): Renamed as
	(scanpat_srcpatconstant).
	(scanpat_srcpatconstruct): New method

2012-01-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* testsuite/melt/tmatch-1.melt: Improve comment about running it.

2012-01-30  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt (opengpu_affine_accessed_array):
	Incomplete, trigger a MELT bad translation bug...

2012-01-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt (opengpu_affine_accessed_array):
	Incomplete. Begin handling cast of induction variables.

2012-01-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-opengpu.melt: More Use of dbg_tree_briefly.

2012-01-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (dbgout_boxtree_method): Output
	briefly the tree content.
	* melt/xtramelt-opengpu.melt: Use dbg_tree_briefly in debug...

2012-01-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): Bumped to 0.9.3+

2012-01-27  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-01-27  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELTDBG_MAXDEPTH, melt_need_debug)
	(melt_need_debug_limit): Defined significantly even without
	MELT_HAVE_DEBUG!

2012-01-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt (dbg_out): Compute maxdepth. Use a cond.

2012-01-26  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_is_plugin): Declare new extern variable.

	* melt-runtime.c (melt_is_plugin): Define.
	(melt_print_version_info): Use it.

2012-01-23  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerated}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+01.c: Regenerate.
	* melt/generated/warmelt-debug+02.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+01.c: Regenerate.
	* melt/generated/warmelt-first+02.c: Regenerate.
	* melt/generated/warmelt-first+03.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-01-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_debug_depth): Don't test melt_flag_debug.

2012-01-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-debug.melt (melt_has_flag_debug_set): New primitive.

2012-01-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_apply): Add more checks with fatal error on
	closure and routine.

2012-01-23  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_flag_debug, melt_flag_bootstrapping): Declare for plugin.
	* melt-runtime.c (melt_flag_debug, melt_flag_bootstrapping): Define for plugin.
	* melt/warmelt-first.melt (melt_need_dbg, melt_need_dbglim):
	Improve documentation.
	* melt/warmelt-debug.melt (melt_really_need_debug)
	(melt_really_need_dbglim): News primitives which are non trivial
	even in optimized flavor.
	Use them everywhere.

2012-01-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: Missing space for generation of *-module.stamp
	* melt-build.mk: Regenerate.

2012-01-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-01-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_gimple_gate, meltgc_rtl_gate)
	(meltgc_simple_ipa_gate): Initialize ok to TRUE so that a lack of
	gate closure don't fail the pass.

	* testsuite/melt/tpassexec.melt: New file.
	* testsuite/melt/tpassexec-c.c: New file.

2012-01-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_do_initial_mode): Warn when mode failed.
	(meltgc_notify_sysdata_passexec_hook): More debug.
	* melt-run.proto.h: include "plugin-version.h".
	* melt/warmelt-modes.melt: Add a return :true in all our modes.

2012-01-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_passexec_callback): Improve debug.
	* melt/xtramelt-c-generator.melt: Don't use debugtree.

2012-01-22  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_flavors_array): New.
	(melt_load_module_index): Try other flavors when asked for default.

2012-01-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): bumped to 0.9.3

2012-01-21  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-01-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk: Share the *+meltdesc.pic.o for all flavors.

2012-01-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (translate_macroexpanded_list): Count
	the number of real secondary files generated, and backup the old
	extra ones.
	* melt/xtramelt-ana-simple.melt: install_melt_mode has one argument!

2012-01-21  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (melt_compile_source): More tests.
	* melt/xtramelt-c-generator.melt: Don't use debugtree.

2012-01-20  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt
	(translate_to_c_one_or_more_melt_files): More debug.
	* melt/warmelt-modes.melt (runfile_docmd): More debug.

2012-01-19  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.c (meltgc_load_flavored_module): Always find in
	current directory. Inform about all the directories and paths
	searched.

2012-01-18  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (MELT_VERSION_STRING): bumped to 0.9.3-

2012-01-18  Basile Starynkevitch  <basile@starynkevitch.net>
	* warmelt-base.melt (clone_with_discriminant): Better casts in
	macrostrings.
	* melt/xtramelt-ana-base.melt (tree_function_decl_named)
	(function_decl_of_name, tree_function_decl, tree_var_decl_named)
	(tree_var_decl, tree_var_decl_of_name, tree_const_decl_of_name)
	(tree_const_decl_named, tree_parm_decl_named)
	(tree_parm_decl_of_name, tree_parm_decl, tree_result_decl_named)
	(tree_result_decl, tree_result_decl_of_name): Improve or add or
	change.
	* melt/xtramelt-ana-simple.melt (meltframe_exec)
	(smaninterp_gimple, ...): Adapt to previous changes.
	* melt/xtramelt-c-generator.melt: Likewise.

2012-01-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (tree_complex_type, tree_const_decl)
	(tree_const_decl_named, tree_parm_decl, tree_parm_decl_named)
	(tree_type_decl, tree_type_decl_named, tree_fixed_point_type)
	(tree_nullptr_type, tree_result_decl, tree_result_decl_named): New

2012-01-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/xtramelt-ana-base.melt (tree_offset_type)
	(tree_enumeral_type, tree_boolean_type, tree_pointer_type)
	(tree_reference_type): New.

2012-01-17  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: Force with -f most occurrences of $(LN_S)
	* melt-build.mk: Regenerate.

2012-01-17  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerate}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+01.c: Regenerate.
	* melt/generated/warmelt-modes+02.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-01-17  Basile Starynkevitch  <basile@starynkevitch.net>
	{{tdefine.melt test works!}}
	* melt/warmelt-normal.melt (normexp_define): Remove duplicate
	newenv binding. Remove the cached normalization.
	(normbind_anybind, normbind_formalbind, normbind_letbind)
	(normbind_fixbind, normbind_definedvalbind)
	(normbind_constructbind, normexp_symbol, normexp_let)
	(normexp_citeration): Added more debug messages

2012-01-16  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-normal.melt (normexp_define): More debug.
	make a tuple with two additional normal components.
	* melt/warmelt-genobj.melt (dispose_objloc)
	(compilobj_nrep_locsymocc): More debug.
	* testsuite/melt/tdefine.melt: Use plus1 function.

2012-01-16  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Better build machinery... work in progress}}
	* melt-build.tpl (WARMELT_LAST_STAGESTAMP): New. Use it at many
	occasions.
	* melt-build.mk: Regenerate.
2012-01-16  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Better build machinery... work in progress}}
	* melt-build.tpl: Use the melt-sourceS/*melttime.h timestamps.
	* melt-build.mk: Regenerate.

2012-01-16  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Better build machinery... work in progress}}
	* Makefile.in (melt.encap): Also depends upon
	$(srcdir)/melt-build.mk.
	* melt-build.tpl: Always use $(MD5SUM).
	Better dependencies on directory and stage stamp files.
	* melt-build.mk: Regenerate.

2012-01-15  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Better build machinery... work in progress}}
	* Makefile.in (melt_make_move): Rename as ...
	(melt_move_if_change): New variable
	(melt-runtime.o): Don't rebuilt everytime because of
	melt-runtime.args.
	* melt-build.tpl: Improve. Use melt_move_if_change...
	* melt-build.mk: Regenerate.

2012-01-13  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Unoptimal build machinery... work in progress}}
	* melt/warmelt-modes.melt: Issue a warning when translating a file
	not named *.melt.
	* melt-build.tpl: Improve. Use directory stamp files *-directory.stamp.
	* melt-build.mk: Regenerate.

2012-01-12  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Unstable build machinery... work in progress}}
	* Makefile.in (melt_xtra_cflags): Non empty.
	* melt-module.mk: Add debugging echo.
	* melt-build.tpl: Partially improved, but very probably
	non-optimal.
	* melt-build.mk: Regenerate.

2012-01-10  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-module.mk (melt_module): Add intermediate dependency to
	symlink it forcibly.
	($(GCCMELT_MODULE_BINARYBASE).$(GCCMELT_MODULE_FLAVOR).so): New
	intermediate target.
	* melt-build.tpl: Move and improve, notably vpath.
	* melt-build.mk: Regenerate.

2012-01-09  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: Add explicit rules for stage zero
	*meltdesc.c etc...
	Add rule for melttime.h headers.
	* melt-build.mk: Regenerate.

2012-01-06  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerated.}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.

2012-01-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: With make timestamp files melt-stage*-warmelt-*.stamp.
	* melt-build.mk: Regenerate.

2012-01-06  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl: The gernerated warmelt*.c don't explicitly
	depend upon all the $(MELT_TRANSLATOR_SOURCE) but only on *.stamp
	files...
	* melt-build.mk: Regenerate.
	* Makefile.in (check-melt-runtime): Use $(MELT_RUNTIME_C).

2012-01-05  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerated. The warmelt*+melttime.h are added.}}
	* melt/generated/warmelt-base+melttime.h: Regenerate.
	* melt/generated/warmelt-debug+melttime.h: Regenerate.
	* melt/generated/warmelt-first+melttime.h: Regenerate.
	* melt/generated/warmelt-genobj+melttime.h: Regenerate.
	* melt/generated/warmelt-macro+melttime.h: Regenerate.
	* melt/generated/warmelt-modes+melttime.h: Regenerate.
	* melt/generated/warmelt-normal+melttime.h: Regenerate.
	* melt/generated/warmelt-normatch+melttime.h: Regenerate.
	* melt/generated/warmelt-outobj+melttime.h: Regenerate.
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+01.c: Regenerate.
	* melt/generated/warmelt-base+02.c: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-base.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-modes.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+03.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normatch.c: Regenerate.
	* melt/generated/warmelt-outobj+04.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj.c: Regenerate.

2012-01-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (output_melt_descriptor): Don't use
	path for the included timestamp file. Generate comment in that
	timestamp file.

2012-01-05  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-build.tpl (warmelt-upgrade-translator): Also copy the
	FOO+melttime.h melt timestamp files.
	* melt-build.mk: Regenerate.
	* melt-runtime.h (melt_compile_source): Mention Melt timestamp file.
	* melt-runtime.c (melt_compile_source): Mention Melt timestamp
	file and warn when missing.
	* melt-module.mk (CCMELT_TIMEF): Variable for Melt timestamp file.
	Warn when missing. Add dependency on it.
	* melt/warmelt-outobj.melt (output_melt_descriptor): Use the naked
	basename for the unique macroname related to inclusion of Melt
	timestamp file.

2012-01-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt-runtime.h (melt_output_strbuf_to_file_no_overwrite):  New declaration.
	* melt-runtime.c (melt_output_strbuf_to_file_no_overwrite):  New function.
	* melt/warmelt-base.melt (output_sbuf_no_overwrite_strconst)
	(output_sbuf_no_overwrite_strval): New primitives.
	* melt/warmelt-outobj.melt (output_melt_descriptor): Generate a
	separate FOO+melttime.h file included in FOO+meltdesc.c.

2012-01-04  Basile Starynkevitch  <basile@starynkevitch.net>
	* melt/warmelt-outobj.melt (output_melt_descriptor): Move the time
	stamp values to end of generated *-meltdesc.c file.

2012-01-04  Basile Starynkevitch  <basile@starynkevitch.net>
	{{Regenerated, even if `tdefine.melt` test don't work}}
	* melt/generated/meltrunsup-inc.c: Regenerate.
	* melt/generated/meltrunsup.h: Regenerate.
	* melt/generated/warmelt-base+meltdesc.c: Regenerate.
	* melt/generated/warmelt-debug+meltdesc.c: Regenerate.
	* melt/generated/warmelt-first+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj+01.c: Regenerate.
	* melt/generated/warmelt-genobj+02.c: Regenerate.
	* melt/generated/warmelt-genobj+03.c: Regenerate.
	* melt/generated/warmelt-genobj+04.c: Regenerate.
	* melt/generated/warmelt-genobj+05.c: Regenerate.
	* melt/generated/warmelt-genobj+meltdesc.c: Regenerate.
	* melt/generated/warmelt-genobj.c: Regenerate.
	* melt/generated/warmelt-macro+01.c: Regenerate.
	* melt/generated/warmelt-macro+02.c: Regenerate.
	* melt/generated/warmelt-macro+03.c: Regenerate.
	* melt/generated/warmelt-macro+04.c: Regenerate.
	* melt/generated/warmelt-macro+meltdesc.c: Regenerate.
	* melt/generated/warmelt-macro.c: Regenerate.
	* melt/generated/warmelt-modes+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal+01.c: Regenerate.
	* melt/generated/warmelt-normal+02.c: Regenerate.
	* melt/generated/warmelt-normal+03.c: Regenerate.
	* melt/generated/warmelt-normal+04.c: Regenerate.
	* melt/generated/warmelt-normal+05.c: Regenerate.
	* melt/generated/warmelt-normal+meltdesc.c: Regenerate.
	* melt/generated/warmelt-normal.c: Regenerate.
	* melt/generated/warmelt-normatch+meltdesc.c: Regenerate.
	* melt/generated/warmelt-outobj+meltdesc.c: Regenerate.

2012-01-03  Basile Starynkevitch  <basile@starynkevitch.net>
	{{ tdefine.melt test still failing, translated incorrectly, so
	xtramelt-ana-base.melt still incorrectly translated. }}
	* melt/warmelt-macro.melt: Update comment & copyright year.
	* melt/warmelt-normal.melt: Likewise.
	(normexp_symbol): More debug.
	(normexp_define): Wrap in a letseq the normalized body of the
	define. Remove from the symbol cache..
	* melt/warmelt-genobj.melt: Update comment & copyright year.
	(compilobj_nrep_definedconstant): New function, perhaps buggy.
	(compilobj_nrep_if): More debug.


{{{{previous changelog entries for MELT in gcc/ are in file ChangeLog.MELT-2008-2011}}}}


Copyright (C) 2012 Free Software Foundation, Inc.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.

/// Local Variables:
/// mode: change-log
/// End:
